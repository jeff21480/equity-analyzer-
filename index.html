<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Anal√Ωza akci√≠ ‚Äî MVP</title>
  <style>
    :root{
      --bg1:#2b0a63;
      --bg2:#0a2b74;
      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.14);
      --stroke2: rgba(255,255,255,.18);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);
      --muted2: rgba(255,255,255,.55);
      --shadow: 0 18px 50px rgba(0,0,0,.38);
      --shadow2: 0 10px 28px rgba(0,0,0,.28);
      --radius: 22px;
      --radius2: 18px;
      --good: rgba(110,255,190,.95);
      --bad: rgba(255,140,170,.95);
      --warn: rgba(255,220,140,.95);
      --btn: rgba(255,255,255,.10);
      --btn2: rgba(255,255,255,.14);
    }

    *{ box-sizing: border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 900px at 12% 8%, rgba(255,255,255,.10), transparent 60%),
        radial-gradient(800px 700px at 88% 12%, rgba(255,255,255,.08), transparent 55%),
        radial-gradient(900px 800px at 50% 120%, rgba(255,255,255,.08), transparent 55%),
        linear-gradient(140deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    a{ color: inherit; }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 14px 40px;
    }

    /* ‚ÄúApp shell‚Äù */
    .app{
      border-radius: 30px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow:hidden;
      min-height: 84vh;
    }

    .screen{
      display:none;
      padding: 18px 16px 24px;
    }
    .screen.active{ display:block; }

    .topBar{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      padding: 18px 16px 0;
    }

    .brand{
      display:flex;
      gap:12px;
      align-items:center;
      min-width:0;
    }
    .logo{
      width:44px;
      height:44px;
      border-radius:16px;
      display:grid;
      place-items:center;
      font-weight: 950;
      letter-spacing:.5px;
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: var(--shadow2);
      flex: 0 0 auto;
    }
    .brandTitle{ min-width:0; }
    .brandTitle .h{
      font-weight: 950;
      font-size: 18px;
      line-height: 1.1;
      margin:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .brandTitle .s{
      opacity:.72;
      font-size: 12.5px;
      margin-top:2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }

    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.12);
      font-size: 12.5px;
      opacity:.95;
      white-space:nowrap;
      height: fit-content;
    }
    .dot{
      width:10px;
      height:10px;
      border-radius:999px;
      background: rgba(130,190,255,.95);
      box-shadow: 0 0 0 4px rgba(130,190,255,.18);
    }

    /* HOME hero */
    .hero{
      margin: 14px 0 10px;
      padding: 10px 16px 0;
    }
    .heroCard{
      border-radius: 28px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      box-shadow: var(--shadow2);
      padding: 18px 16px 16px;
    }
    .badgeRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .mvp{
      padding: 8px 10px;
      border-radius:999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      font-size: 12px;
      opacity:.9;
    }
    .heroTitle{
      font-size: 44px;
      line-height: .95;
      letter-spacing: .2px;
      margin: 8px 0 10px;
      font-weight: 950;
    }
    .heroText{
      opacity:.76;
      font-size: 14px;
      line-height: 1.45;
      margin: 0;
      max-width: 72ch;
    }

    /* HOME ‚Äú≈°upl√≠ky‚Äù */
    .homeGrid{
      display:flex;
      flex-direction:column;
      gap:14px;
      margin-top: 14px;
      padding: 0 16px 16px;
    }
    .homeCard{
      width:100%;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;

      padding:14px 16px;
      border-radius: 20px;

      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 28px rgba(0,0,0,.20);

      cursor:pointer;
      text-align:left;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .homeCard:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.10);
    }
    .homeCard:active{
      transform: translateY(0px);
    }

    .homeLeft{
      display:flex;
      align-items:center;
      gap:14px;
      min-width:0;
    }
    .homeIcon{
      width:46px;
      height:46px;
      display:grid;
      place-items:center;
      border-radius:16px;

      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.14);
      flex:0 0 auto;
      font-size: 20px;
    }
    .homeTitle{
      font-weight: 950;
      font-size: 22px;
      line-height: 1.05;
      margin:0;
    }
    .homeSub2{
      margin-top:4px;
      opacity:.72;
      font-size: 13px;
      line-height: 1.25;
    }
    .homeArrow{
      opacity:.68;
      font-size: 22px;
      line-height:1;
      flex:0 0 auto;
      padding-left:8px;
    }

    .tip{
      padding: 0 16px 18px;
      opacity:.78;
      font-size: 13px;
      line-height: 1.35;
    }

    /* Header row inside screens */
    .headerRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 12px;
    }
    .miniPill{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      font-weight: 850;
      font-size: 13px;
      opacity:.95;
    }
    .backBtn{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.12);
      cursor:pointer;
      user-select:none;
      font-weight: 800;
      font-size: 13px;
      opacity:.92;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .backBtn:hover{
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.20);
    }
    .backBtn:active{ transform: translateY(1px); }

    .card{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.06);
      box-shadow: var(--shadow2);
      padding: 14px 14px 16px;
    }

    .cardTitle{
      font-weight: 950;
      letter-spacing:.2px;
      font-size: 16px;
      margin-bottom: 6px;
      opacity:.98;
    }
    .subTitle{
      font-size: 13px;
      line-height: 1.35;
      opacity:.76;
      margin: 0 0 10px;
    }
    .divider{
      height:1px;
      background: rgba(255,255,255,.10);
      margin: 12px 0;
    }

    .formGrid{
      display:grid;
      gap:10px;
    }
    .two{ grid-template-columns: 1fr 1fr; }
    .three{ grid-template-columns: 1fr 1fr 1fr; }
    @media (max-width: 720px){
      .two, .three{ grid-template-columns: 1fr; }
      .heroTitle{ font-size: 40px; }
    }

    .field{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      padding: 10px 10px 8px;
    }
    .labelRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 6px;
    }
    label{
      font-size: 12.5px;
      font-weight: 850;
      opacity:.92;
    }
    input[type="text"], input[type="number"], select{
      width:100%;
      font-size: 15px;
      font-weight: 750;
      padding: 10px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.14);
      color: var(--text);
      outline:none;
    }
    input:focus, select:focus{
      border-color: rgba(140,190,255,.35);
      box-shadow: 0 0 0 4px rgba(140,190,255,.12);
    }
    .hintInline{
      margin-top: 6px;
      font-size: 12px;
      opacity:.68;
      line-height:1.25;
    }

    details.info{
      cursor:pointer;
      user-select:none;
    }
    details.info summary{
      list-style:none;
      font-size: 12px;
      opacity:.72;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      padding: 6px 8px;
      border-radius: 999px;
    }
    details.info summary::-webkit-details-marker{ display:none; }
    .infoBody{
      margin-top: 8px;
      font-size: 12.5px;
      line-height: 1.35;
      opacity: .78;
      max-width: 70ch;
    }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .btn{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.08);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 999px;
      font-weight: 900;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
      user-select:none;
    }
    .btn:hover{ background: rgba(255,255,255,.11); border-color: rgba(255,255,255,.20); }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      background: rgba(140,190,255,.16);
      border-color: rgba(140,190,255,.24);
    }
    .btn.danger{
      background: rgba(255,120,160,.12);
      border-color: rgba(255,120,160,.22);
    }

    .msg{
      margin-top: 10px;
      font-size: 13px;
      opacity:.85;
      line-height: 1.35;
      padding: 10px 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.12);
      display:none;
    }
    .msg.show{ display:block; }
    .msg.good{ border-color: rgba(110,255,190,.20); }
    .msg.bad{ border-color: rgba(255,140,170,.22); }
    .msg.warn{ border-color: rgba(255,220,140,.22); }

    .resultHeader{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 8px;
    }
    .summaryBadge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      font-weight: 950;
      font-size: 12px;
      opacity:.95;
      height: fit-content;
    }

    .scRow{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
      margin-top: 10px;
    }
    @media (max-width: 860px){
      .scRow{ grid-template-columns: 1fr; }
    }
    .scCard{
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      padding: 12px 12px 12px;
    }
    .scTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 6px;
    }
    .scName{
      font-weight: 950;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .tag{
      font-size: 11px;
      font-weight: 900;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      opacity:.92;
      white-space:nowrap;
    }
    .scVal{
      font-size: 30px;
      font-weight: 950;
      letter-spacing:.2px;
      margin: 2px 0 6px;
    }
    .line{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      font-size: 12.5px;
      opacity:.78;
      margin-top: 4px;
    }

    .rangeCard{
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      padding: 12px;
      margin-top: 10px;
    }
    .rangeTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 6px;
    }
    .rangeTitle{
      font-weight: 950;
      font-size: 14px;
    }
    .rangePill{
      font-size: 12px;
      font-weight: 950;
      padding: 6px 10px;
      border-radius:999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      opacity:.92;
    }
    .rangeValue{
      font-size: 22px;
      font-weight: 950;
      margin: 2px 0;
    }
    .footerNote{
      margin-top: 10px;
      font-size: 12.5px;
      opacity:.72;
      line-height:1.35;
    }

    /* Watchlist list */
    .wlHead{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:10px;
      margin-bottom: 10px;
    }
    .wlTitle{
      font-weight: 950;
      margin:0;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .wlMeta{
      margin-top: 3px;
      color: var(--muted);
      font-size: 12.6px;
      font-weight: 750;
      line-height: 1.35;
    }
    .wlBtns{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .miniBtn{
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.90);
      font-weight: 950;
      cursor:pointer;
      user-select:none;
      font-size: 12.5px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease;
    }
    .miniBtn:hover{ background: rgba(255,255,255,.11); border-color: rgba(255,255,255,.20); }
    .miniBtn:active{ transform: translateY(1px); }
    .miniBtn.danger{
      background: rgba(255,79,119,.10);
      border-color: rgba(255,79,119,.18);
    }

    .wlItem{
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.05);
      padding: 12px;
      margin-top: 10px;
    }
    .wlGrid{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:10px;
      margin-top: 8px;
    }
    @media (max-width: 860px){
      .wlGrid{ grid-template-columns: 1fr; }
    }
    .muted{ opacity:.72; }

    /* Small helper */
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="app" id="app">

      <!-- TOP BAR (fixed across screens visually) -->
      <div class="topBar">
        <div class="brand">
          <div class="logo">DCF</div>
          <div class="brandTitle">
            <div class="h">Anal√Ωza akci√≠ ‚Äî MVP</div>
            <div class="s">DCF sc√©n√°≈ôe ‚Ä¢ watchlist ‚Ä¢ slo≈æen√© √∫roƒçen√≠</div>
          </div>
        </div>
        <div class="pill"><span class="dot"></span> Anal√Ωza akci√≠ ‚Ä¢ Beta</div>
      </div>

      <!-- HOME -->
      <section id="screen-home" class="screen active">
        <div class="hero">
          <div class="heroCard">
            <div class="badgeRow">
              <div class="pill"><span class="dot"></span> Anal√Ωza akci√≠ ‚Ä¢ Beta</div>
              <div class="mvp">MVP</div>
            </div>
            <div class="heroTitle">Anal√Ωza akci√≠</div>
            <p class="heroText">
              Modern√≠ n√°stroje pro investory: v√Ωpoƒçet vnit≈ôn√≠ hodnoty (DCF), watchlist, slo≈æen√© √∫roƒçen√≠
              a jednoduch√© vysvƒõtlen√≠ metodiky.
            </p>
          </div>
        </div>

        <div class="homeGrid">
          <button class="homeCard" data-open="dcf">
            <div class="homeLeft">
              <div class="homeIcon">üìà</div>
              <div>
                <div class="homeTitle">Analyz√°tor</div>
                <div class="homeSub2">Odhad vnit≈ôn√≠ hodnoty (Bear / Base / Bull)</div>
              </div>
            </div>
            <div class="homeArrow">‚Ä∫</div>
          </button>

          <button class="homeCard" data-open="calc">
            <div class="homeLeft">
              <div class="homeIcon">üßÆ</div>
              <div>
                <div class="homeTitle">Kalkulaƒçka</div>
                <div class="homeSub2">Slo≈æen√© √∫roƒçen√≠ + c√≠lov√° ƒç√°stka</div>
              </div>
            </div>
            <div class="homeArrow">‚Ä∫</div>
          </button>

          <button class="homeCard" data-open="watchlist">
            <div class="homeLeft">
              <div class="homeIcon">üëÄ</div>
              <div>
                <div class="homeTitle">Watchlist</div>
                <div class="homeSub2">Ulo≈æen√© anal√Ωzy (datum + v√Ωsledky)</div>
              </div>
            </div>
            <div class="homeArrow">‚Ä∫</div>
          </button>

          <button class="homeCard" data-open="about">
            <div class="homeLeft">
              <div class="homeIcon">‚ÑπÔ∏è</div>
              <div>
                <div class="homeTitle">Jak to funguje</div>
                <div class="homeSub2">Metodika, vysvƒõtlen√≠ vstup≈Ø, tipy</div>
              </div>
            </div>
            <div class="homeArrow">‚Ä∫</div>
          </button>
        </div>

        <div class="tip">
          Tip: ƒå√≠sla m≈Ø≈æe≈° ps√°t i s mezerami a desetinnou ƒç√°rkou (nap≈ô. <span class="mono">1 234,56</span>).
          Aplikace si to sama p≈ôevede.
        </div>
      </section>

      <!-- DCF -->
      <section id="screen-dcf" class="screen">
        <div class="headerRow">
          <div class="backBtn" data-open="home">‚Üê Zpƒõt</div>
          <div class="miniPill">DCF (Bear / Base / Bull)</div>
        </div>

        <div class="card">
          <div class="cardTitle">Vstupy</div>
          <p class="subTitle">Vypl≈à z√°kladn√≠ sc√©n√°≈ô (Base). Bear a Bull m≈Ø≈æe≈° upravit p≈ô√≠mo (nebo nechat jako odchylku).</p>

          <div class="formGrid two">
            <div class="field">
              <div class="labelRow">
                <label for="d_ticker">Ticker / N√°zev (voliteln√©)</label>
                <details class="info"><summary>i</summary><div class="infoBody">Jen pro pojmenov√°n√≠ anal√Ωzy ve watchlistu.</div></details>
              </div>
              <input id="d_ticker" type="text" placeholder="nap≈ô. PLTR, AAPL‚Ä¶" />
            </div>

            <div class="field">
              <div class="labelRow">
                <label for="d_price">Aktu√°ln√≠ cena (na porovn√°n√≠)</label>
                <details class="info"><summary>i</summary><div class="infoBody">Cena, v≈Øƒçi kter√© se bude poƒç√≠tat ‚Äúupside‚Äù a c√≠lov√° cena s rezervou (MoS).</div></details>
              </div>
              <input id="d_price" type="text" inputmode="decimal" placeholder="nap≈ô. 25,30" />
              <div class="hintInline">Mƒõna je ƒçistƒõ orientaƒçn√≠ (poƒç√≠t√°me jen ƒç√≠sla).</div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="formGrid two">
            <div class="field">
              <div class="labelRow">
                <label for="d_fcf">FCF na akcii (TTM / aktu√°ln√≠)</label>
                <details class="info"><summary>i</summary><div class="infoBody">Voln√Ω cash flow p≈ôepoƒçten√Ω na 1 akcii. Pokud m√°≈° FCF firmy, vydƒõl poƒçtem akci√≠ (diluted shares).</div></details>
              </div>
              <input id="d_fcf" type="text" inputmode="decimal" placeholder="nap≈ô. 1,20" />
            </div>

            <div class="field">
          <div class="labelRow">
            <label for="d_years">Poƒçet let projekce</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Projekƒçn√≠ horizont, typicky 5‚Äì10 let.</div>
            </details>
          </div>
          <input id="d_years" type="text" inputmode="numeric" placeholder="nap≈ô. 8" />
        </div>
      </div>

      <div class="divider"></div>

      <div class="formGrid three">
        <div class="field">
          <div class="labelRow">
            <label for="d_g">R≈Øst FCF (Base) %</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Odhad roƒçn√≠ho r≈Østu FCF v projekci. Nap≈ô. 12 znamen√° 12 % roƒçnƒõ.</div>
            </details>
          </div>
          <input id="d_g" type="text" inputmode="decimal" placeholder="nap≈ô. 12" />
        </div>

        <div class="field">
          <div class="labelRow">
            <label for="d_r">Diskont (Base) %</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Diskontn√≠ sazba (n√°klad kapit√°lu / po≈æadovan√Ω v√Ωnos). ƒåasto 8‚Äì12 %. U tebe typicky kolem 9 %.</div>
            </details>
          </div>
          <input id="d_r" type="text" inputmode="decimal" placeholder="nap≈ô. 9" />
        </div>

        <div class="field">
          <div class="labelRow">
            <label for="d_gt">Termin√°ln√≠ r≈Øst (Base) %</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Dlouhodob√Ω r≈Øst po projekci (typicky 2‚Äì3 %).</div>
            </details>
          </div>
          <input id="d_gt" type="text" inputmode="decimal" placeholder="nap≈ô. 2,5" />
        </div>
      </div>

      <div class="divider"></div>

      <div class="cardTitle">Sc√©n√°≈ôe (√∫pravy oproti Base)</div>
      <p class="subTitle">
        Bear je konzervativnƒõj≈°√≠, Bull optimistiƒçtƒõj≈°√≠. M≈Ø≈æe≈° upravit r≈Øst i diskont i termin√°l.
        Kdy≈æ nech√°≈° pr√°zdn√©, pou≈æijeme rozumnou odchylku.
      </p>

      <div class="formGrid three">
        <div class="field">
          <div class="labelRow"><label for="d_bear_g">Bear r≈Øst %</label><span class="muted">volit.</span></div>
          <input id="d_bear_g" type="text" inputmode="decimal" placeholder="nap≈ô. 8" />
        </div>
        <div class="field">
          <div class="labelRow"><label for="d_bear_r">Bear diskont %</label><span class="muted">volit.</span></div>
          <input id="d_bear_r" type="text" inputmode="decimal" placeholder="nap≈ô. 10" />
        </div>
        <div class="field">
          <div class="labelRow"><label for="d_bear_gt">Bear termin√°l %</label><span class="muted">volit.</span></div>
          <input id="d_bear_gt" type="text" inputmode="decimal" placeholder="nap≈ô. 2" />
        </div>

        <div class="field">
          <div class="labelRow"><label for="d_bull_g">Bull r≈Øst %</label><span class="muted">volit.</span></div>
          <input id="d_bull_g" type="text" inputmode="decimal" placeholder="nap≈ô. 15" />
        </div>
        <div class="field">
          <div class="labelRow"><label for="d_bull_r">Bull diskont %</label><span class="muted">volit.</span></div>
          <input id="d_bull_r" type="text" inputmode="decimal" placeholder="nap≈ô. 8,5" />
        </div>
        <div class="field">
          <div class="labelRow"><label for="d_bull_gt">Bull termin√°l %</label><span class="muted">volit.</span></div>
          <input id="d_bull_gt" type="text" inputmode="decimal" placeholder="nap≈ô. 3" />
        </div>
      </div>

      <div class="divider"></div>

      <div class="formGrid two">
        <div class="field">
          <div class="labelRow">
            <label for="d_mos">Margin of Safety (rezerva) %</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Bezpeƒçnostn√≠ pol≈°t√°≈ô pro c√≠lovou cenu. Nap≈ô. 20 % ‚Üí c√≠lovka = FV √ó (1 ‚àí 0.20).</div>
            </details>
          </div>
          <select id="d_mos">
            <option value="10">10 %</option>
            <option value="15">15 %</option>
            <option value="20" selected>20 %</option>
            <option value="25">25 %</option>
            <option value="30">30 %</option>
          </select>
          <div class="hintInline">MoS ovlivn√≠ ‚Äúc√≠lovou cenu s rezervou‚Äù.</div>
        </div>

        <div class="field">
          <div class="labelRow">
            <label>Rychl√° kontrola</label>
            <details class="info">
              <summary>i</summary>
              <div class="infoBody">Pokud se v√Ωpoƒçet nepovede, b√Ωv√° to typicky termin√°l ‚â• diskont nebo nulov√© vstupy.</div>
            </details>
          </div>
          <div class="hintInline">Doporuƒçen√≠: termin√°l 2‚Äì3 %, diskont ‚â• 8 %, projekce 5‚Äì10 let.</div>
        </div>
      </div>

      <div class="btnRow">
        <button class="btn primary" id="btnDcfCalc">Spoƒç√≠tat</button>
        <button class="btn" id="btnDcfSave">Ulo≈æit do watchlistu</button>
        <button class="btn danger" id="btnDcfReset">Reset</button>
      </div>

      <div class="msg" id="dcfMsg"></div>
    </div>

    <div class="card" id="dcfResultCard" style="margin-top:14px; display:none;">
      <div class="resultHeader">
        <div>
          <div class="cardTitle">V√Ωsledek ocenƒõn√≠</div>
          <p class="subTitle" style="margin-bottom:0;">V√Ωstup je orientaƒçn√≠ DCF (per-share). Ber to jako r√°mec pro sc√©n√°≈ôe.</p>
        </div>
        <div class="summaryBadge" id="dcfSummary">‚Äî</div>
      </div>

      <div class="scRow" id="scRow"></div>

      <div class="rangeCard" id="rangeCard">
        <div class="rangeTop">
          <div class="rangeTitle">Fair Value Range</div>
          <div class="rangePill" id="rangePill">Bear ‚Üî Bull</div>
        </div>
        <div class="rangeValue" id="rangeValue">‚Äî</div>
        <div class="line"><span>Aktu√°ln√≠ cena</span><span id="curPrice">‚Äî</span></div>
        <div class="line"><span>C√≠lov√° cena (Base ‚àí MoS)</span><span id="targetPrice">‚Äî</span></div>
      </div>

      <div class="footerNote">
        Pozn.: Termin√°ln√≠ hodnota je poƒç√≠tan√° Gordonov√Ωm r≈Østov√Ωm modelem. Pokud je termin√°ln√≠ r≈Øst ‚â• diskont, model to odm√≠tne.
      </div>
    </div>
  </section>

  <!-- WATCHLIST -->
  <section id="screen-watchlist" class="screen">
    <div class="headerRow">
      <div class="backBtn" data-open="home">‚Üê Zpƒõt</div>
      <div class="miniPill">Watchlist</div>
    </div>

    <div class="card">
      <div class="wlHead">
        <div>
          <p class="wlTitle">Ulo≈æen√© anal√Ωzy (lok√°lnƒõ v prohl√≠≈æeƒçi)</p>
          <div class="wlMeta">Ukl√°d√° se pouze do <span class="mono">localStorage</span>. Neodes√≠l√° se nikam na server.</div>
        </div>
        <div class="wlBtns">
          <button class="miniBtn" id="btnWlRefresh">Obnovit</button>
          <button class="miniBtn danger" id="btnWlClear">Smazat v≈°e</button>
        </div>
      </div>

      <div class="msg" id="wlMsg"></div>
      <div id="wlList"></div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="screen-about" class="screen">
    <div class="headerRow">
      <div class="backBtn" data-open="home">‚Üê Zpƒõt</div>
      <div class="miniPill">Jak to funguje</div>
    </div>

    <div class="card">
      <div class="cardTitle">K ƒçemu je tahle aplikace</div>
      <p class="subTitle">
        Aplikace slou≈æ√≠ investor≈Øm, kte≈ô√≠ si chtƒõj√≠ <b>rychle spoƒç√≠tat f√©rovou (vnit≈ôn√≠) hodnotu</b> akcie pomoc√≠ DCF sc√©n√°≈ô≈Ø,
        ulo≈æit si v√Ωsledky do watchlistu a m√≠t po ruce jednoduch√© v√Ωpoƒçty (nap≈ô. slo≈æen√© √∫roƒçen√≠).
      </p>

      <div class="divider"></div>

      <div class="cardTitle">Co je DCF model (jednodu≈°e)</div>
      <p class="subTitle">
        DCF (<b>Discounted Cash Flow</b>) je metoda, kter√° se sna≈æ√≠ odhadnout hodnotu aktiva podle toho,
        kolik <b>cash flow</b> m≈Ø≈æe v budoucnu vytvo≈ôit. Budouc√≠ cash flow se p≈ôev√°d√≠ na dne≈°n√≠ hodnotu
        pomoc√≠ <b>diskontn√≠ sazby</b> (po≈æadovan√Ω v√Ωnos).
      </p>

      <div class="rangeCard">
        <div class="rangeTop">
          <div class="rangeTitle">Jak aplikace poƒç√≠t√°</div>
          <div class="rangePill">3 sc√©n√°≈ôe</div>
        </div>
        <div class="subTitle" style="margin:8px 0 0;">
          <ul style="margin:0; padding-left:18px;">
            <li><b>Projekce</b>: FCF/akcii roste o zadan√© % po dobu N let.</li>
            <li><b>Diskont</b>: ka≈æd√© budouc√≠ cash flow se diskontuje sazbou r.</li>
            <li><b>Termin√°l</b>: po projekci se pou≈æije Gordon≈Øv model s termin√°ln√≠m r≈Østem g<sub>T</sub>.</li>
            <li><b>Bear/Base/Bull</b>: r≈Øzn√© kombinace r≈Østu, diskontu a termin√°lu ‚Üí interval f√©rov√© ceny.</li>
          </ul>
        </div>
      </div>

      <div class="divider"></div>

      <div class="cardTitle">Pro koho to je (a pro koho ne)</div>
      <p class="subTitle">
        Je to pro lidi, co chtƒõj√≠ <b>rychle zkou≈°et sc√©n√°≈ôe</b> a m√≠t transparentn√≠ r√°mec. Nen√≠ to finanƒçn√≠ poradenstv√≠
        a ne≈ôe≈°√≠ to v≈°echny detaily. Ber to jako <b>startovn√≠ kalkulaƒçku</b>.
      </p>

      <div class="divider"></div>

      <div class="cardTitle">Soukrom√≠</div>
      <p class="subTitle">
        Watchlist se ukl√°d√° pouze do tv√©ho prohl√≠≈æeƒçe (localStorage). Neodes√≠l√° se nikam na server.
      </p>
    </div>
  </section>

</div>
</div>

<script>
  // ========= Helpers =========
  function parseNum(s){
    if (s === null || s === undefined) return NaN;
    const str = String(s).trim();
    if (!str) return NaN;
    let t = str.replace(/\s+/g, '');
    const hasComma = t.includes(',');
    const hasDot = t.includes('.');
    if (hasComma && hasDot){
      t = t.replace(/,/g, '');
    } else if (hasComma && !hasDot){
      t = t.replace(/,/g, '.');
    }
    t = t.replace(/[^0-9.\-]/g,'');
    const n = Number(t);
    return Number.isFinite(n) ? n : NaN;
  }

  function fmt(n, digits=2){
    if (!Number.isFinite(n)) return '‚Äî';
    return new Intl.NumberFormat('cs-CZ', { minimumFractionDigits: digits, maximumFractionDigits: digits }).format(n);
  }
  function fmt0(n){
    if (!Number.isFinite(n)) return '‚Äî';
    return new Intl.NumberFormat('cs-CZ', { maximumFractionDigits: 0 }).format(n);
  }
  function todayStr(){
    const d = new Date();
    return d.toLocaleDateString('cs-CZ', { year:'numeric', month:'2-digit', day:'2-digit' });
  }

  const LS_KEY = 'equity_analyzer_watchlist_v1';
  function loadWatchlist(){
    try{
      const raw = localStorage.getItem(LS_KEY);
      if(!raw) return [];
      const arr = JSON.parse(raw);
      return Array.isArray(arr) ? arr : [];
    }catch(e){ return []; }
  }
  function saveWatchlist(arr){
    localStorage.setItem(LS_KEY, JSON.stringify(arr));
  }
  function uid(){
    return Math.random().toString(16).slice(2) + Date.now().toString(16);
  }
  function showMsg(el, text, kind='warn'){
    el.className = 'msg show ' + (kind || '');
    el.textContent = text;
  }
  function hideMsg(el){
    el.className = 'msg';
    el.textContent = '';
  }

  // ========= Navigation =========
  const screens = {
    home: document.getElementById('screen-home'),
    dcf: document.getElementById('screen-dcf'),
    calc: document.getElementById('screen-calc'),
    watchlist: document.getElementById('screen-watchlist'),
    about: document.getElementById('screen-about'),
  };

  function go(screenName){
    Object.values(screens).forEach(s => s.classList.remove('active'));
    const s = screens[screenName];
    if(s) s.classList.add('active');
    if(screenName === 'watchlist') renderWatchlist();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  document.addEventListener('click', (e) => {
    const t = e.target.closest('[data-open]');
    if(!t) return;
    const name = t.getAttribute('data-open');
    if(name && screens[name]) go(name);
  });

  // ========= DCF =========
  const d = (id) => document.getElementById(id);
  const dcfMsg = d('dcfMsg');
  const dcfResultCard = d('dcfResultCard');
  const scRow = d('scRow');
  const dcfSummary = d('dcfSummary');
  const rangeValue = d('rangeValue');
  const curPrice = d('curPrice');
  const targetPrice = d('targetPrice');

  function readDcfInputs(){
    const ticker = d('d_ticker').value.trim();
    const price = parseNum(d('d_price').value);
    const fcf0 = parseNum(d('d_fcf').value);
    const years = Math.round(parseNum(d('d_years').value));
    const gBase = parseNum(d('d_g').value) / 100;
    const rBase = parseNum(d('d_r').value) / 100;
    const gtBase = parseNum(d('d_gt').value) / 100;

    const gBearRaw = parseNum(d('d_bear_g').value);
    const rBearRaw = parseNum(d('d_bear_r').value);
    const gtBearRaw = parseNum(d('d_bear_gt').value);

    const gBullRaw = parseNum(d('d_bull_g').value);
    const rBullRaw = parseNum(d('d_bull_r').value);
    const gtBullRaw = parseNum(d('d_bull_gt').value);

    const mos = parseNum(d('d_mos').value) / 100;

    const gBear = Number.isFinite(gBearRaw) ? (gBearRaw/100) : (gBase - 0.04);
    const rBear = Number.isFinite(rBearRaw) ? (rBearRaw/100) : (rBase + 0.01);
    const gtBear = Number.isFinite(gtBearRaw) ? (gtBearRaw/100) : (gtBase - 0.005);

    const gBull = Number.isFinite(gBullRaw) ? (gBullRaw/100) : (gBase + 0.03);
    const rBull = Number.isFinite(rBullRaw) ? (rBullRaw/100) : (rBase - 0.005);
    const gtBull = Number.isFinite(gtBullRaw) ? (gtBullRaw/100) : (gtBase + 0.003);

    return {
      ticker, price, fcf0, years,
      base: { g:gBase, r:rBase, gt:gtBase },
      bear: { g:gBear, r:rBear, gt:gtBear },
      bull: { g:gBull, r:rBull, gt:gtBull },
      mos
    };
  }

  function dcfPerShare(fcf0, years, g, r, gt){
    if(!Number.isFinite(fcf0) || fcf0 <= 0) throw new Error('FCF na akcii mus√≠ b√Ωt > 0.');
    if(!Number.isFinite(years) || years < 1 || years > 50) throw new Error('Poƒçet let projekce mus√≠ b√Ωt 1‚Äì50.');
    if(!Number.isFinite(g)) throw new Error('R≈Øst mus√≠ b√Ωt ƒç√≠slo.');
    if(!Number.isFinite(r) || r <= 0) throw new Error('Diskont mus√≠ b√Ωt > 0.');
    if(!Number.isFinite(gt)) throw new Error('Termin√°ln√≠ r≈Øst mus√≠ b√Ωt ƒç√≠slo.');
    if(gt >= r) throw new Error('Termin√°ln√≠ r≈Øst mus√≠ b√Ωt men≈°√≠ ne≈æ diskont.');

    let pv = 0;
    let f = fcf0;

    for(let t=1; t<=years; t++){
      f = f * (1 + g);
      pv += f / Math.pow(1 + r, t);
    }

    const fN = f;
    const tv = (fN * (1 + gt)) / (r - gt);
    const pvTv = tv / Math.pow(1 + r, years);

    return { fair: pv + pvTv, pvFcf: pv, pvTv, fN };
  }

  function dcfRating(price, baseFair){
    if(!Number.isFinite(price) || price <= 0) return { label:'Bez ceny', kind:'' };
    const upside = (baseFair / price) - 1;
    if(upside >= 0.30) return { label:'Potenci√°lnƒõ podhodnocen√©', kind:'good' };
    if(upside <= -0.20) return { label:'Potenci√°lnƒõ nadhodnocen√©', kind:'bad' };
    return { label:'Bl√≠zko f√©rov√© ceny', kind:'warn' };
  }

  function renderDcfResult(inputs, out){
    dcfResultCard.style.display = 'block';

    const price = inputs.price;
    const baseFair = out.base.fair;
    const rating = dcfRating(price, baseFair);

    dcfSummary.textContent = rating.label;
    dcfSummary.style.borderColor =
      rating.kind === 'good' ? 'rgba(110,255,190,.28)' :
      rating.kind === 'bad' ? 'rgba(255,140,170,.30)' :
      'rgba(255,220,140,.26)';

    scRow.innerHTML = '';
    const makeCard = (name, tag, res, r, g, gt) => {
      const upside = (Number.isFinite(price) && price>0) ? ((res.fair/price)-1) : NaN;
      const el = document.createElement('div');
      el.className = 'scCard';
      el.innerHTML = `
        <div class="scTop">
          <div class="scName">${name}</div>
          <div class="tag">${tag}</div>
        </div>
        <div class="scVal">${fmt(res.fair,2)}</div>
        <div class="line"><span>PV FCF</span><span>${fmt(res.pvFcf,2)}</span></div>
        <div class="line"><span>PV Termin√°l</span><span>${fmt(res.pvTv,2)}</span></div>
        <div class="line"><span>Vstupy</span><span class="mono">${(g*100).toFixed(2)}% / ${(r*100).toFixed(2)}% / ${(gt*100).toFixed(2)}%</span></div>
        <div class="line"><span>Upside vs cena</span><span>${Number.isFinite(upside) ? ( (upside>=0?'+':'') + (upside*100).toFixed(1) + ' %') : '‚Äî'}</span></div>
      `;
      return el;
    };

    scRow.appendChild(makeCard('Bear', 'Bear', out.bear, inputs.bear.r, inputs.bear.g, inputs.bear.gt));
    scRow.appendChild(makeCard('Base', 'Base', out.base, inputs.base.r, inputs.base.g, inputs.base.gt));
    scRow.appendChild(makeCard('Bull', 'Bull', out.bull, inputs.bull.r, inputs.bull.g, inputs.bull.gt));

    const low = Math.min(out.bear.fair, out.base.fair, out.bull.fair);
    const high = Math.max(out.bear.fair, out.base.fair, out.bull.fair);

    rangeValue.textContent = `${fmt(low,2)} ‚Äì ${fmt(high,2)}`;
    curPrice.textContent = Number.isFinite(price) ? fmt(price,2) : '‚Äî';

    const mosTarget = out.base.fair * (1 - inputs.mos);
    targetPrice.textContent = fmt(mosTarget,2);
  }

  function computeDcf(){
    hideMsg(dcfMsg);
    const inputs = readDcfInputs();

    if(!Number.isFinite(inputs.fcf0) || inputs.fcf0 <= 0){
      showMsg(dcfMsg, 'Vypl≈à FCF na akcii (mus√≠ b√Ωt > 0).', 'bad');
      dcfResultCard.style.display = 'none';
      return null;
    }
    if(!Number.isFinite(inputs.years) || inputs.years < 1){
      showMsg(dcfMsg, 'Vypl≈à poƒçet let projekce (min. 1).', 'bad');
      dcfResultCard.style.display = 'none';
      return null;
    }
    if(!Number.isFinite(inputs.base.g) || !Number.isFinite(inputs.base.r) || !Number.isFinite(inputs.base.gt)){
      showMsg(dcfMsg, 'Vypl≈à Base r≈Øst, diskont a termin√°l (v %).', 'bad');
      dcfResultCard.style.display = 'none';
      return null;
    }

    try{
      const out = {
        bear: dcfPerShare(inputs.fcf0, inputs.years, inputs.bear.g, inputs.bear.r, inputs.bear.gt),
        base: dcfPerShare(inputs.fcf0, inputs.years, inputs.base.g, inputs.base.r, inputs.base.gt),
        bull: dcfPerShare(inputs.fcf0, inputs.years, inputs.bull.g, inputs.bull.r, inputs.bull.gt),
      };

      renderDcfResult(inputs, out);
      showMsg(dcfMsg, 'Hotovo. Pokud chce≈°, ulo≈æ v√Ωsledek do watchlistu.', 'good');
      return { inputs, out };

    }catch(err){
      dcfResultCard.style.display = 'none';
      showMsg(dcfMsg, err.message || 'V√Ωpoƒçet se nepovedl.', 'bad');
      return null;
    }
  }

  let lastDcf = null;

  d('btnDcfCalc').addEventListener('click', () => { lastDcf = computeDcf(); });

  d('btnDcfReset').addEventListener('click', () => {
    [
      'd_ticker','d_price','d_fcf','d_years','d_g','d_r','d_gt',
      'd_bear_g','d_bear_r','d_bear_gt','d_bull_g','d_bull_r','d_bull_gt'
    ].forEach(id => d(id).value = '');
    d('d_mos').value = '20';
    lastDcf = null;
    dcfResultCard.style.display = 'none';
    hideMsg(dcfMsg);
    showMsg(dcfMsg, 'Reset hotov√Ω.', 'warn');
  });

  d('btnDcfSave').addEventListener('click', () => {
    hideMsg(dcfMsg);
    if(!lastDcf){
      lastDcf = computeDcf();
      if(!lastDcf) return;
    }

    const { inputs, out } = lastDcf;
    const wl = loadWatchlist();

    const item = {
      id: uid(),
      type: 'dcf',
      createdAt: new Date().toISOString(),
      dateLabel: todayStr(),
      name: inputs.ticker || 'DCF anal√Ωza',
      inputs: {
        ticker: inputs.ticker,
        price: inputs.price,
        fcf0: inputs.fcf0,
        years: inputs.years,
        base: inputs.base,
        bear: inputs.bear,
        bull: inputs.bull,
        mos: inputs.mos
      },
      result: {
        bear: out.bear.fair,
        base: out.base.fair,
        bull: out.bull.fair
      }
    };

    wl.unshift(item);
    saveWatchlist(wl);
    showMsg(dcfMsg, 'Ulo≈æeno do watchlistu ‚úÖ', 'good');
  });

  // ========= Watchlist =========
  const wlMsg = d('wlMsg');
  const wlList = d('wlList');

  function escapeHtml(s){
c => ({
      '&':'&amp;',
      '<':'&lt;',
      '>':'&gt;',
      '"':'&quot;',
      "'":'&#39;'
    }[c])
  );
}

function renderWatchlist(){
  hideMsg(wlMsg);
  const wl = loadWatchlist();
  wlList.innerHTML = '';

  if(wl.length === 0){
    showMsg(wlMsg, 'Watchlist je pr√°zdn√Ω. Ulo≈æ si anal√Ωzu v DCF obrazovce.', 'warn');
    return;
  }

  wl.forEach(item => {
    const el = document.createElement('div');
    el.className = 'wlItem';

    const price = item.inputs?.price;
    const bear = item.result?.bear;
    const base = item.result?.base;
    const bull = item.result?.bull;

    const low = Math.min(bear, base, bull);
    const high = Math.max(bear, base, bull);
    const upside = (Number.isFinite(price) && price>0 && Number.isFinite(base))
      ? ((base/price)-1) : NaN;

    el.innerHTML = `
      <div class="wlHead">
        <div>
          <p class="wlTitle">${escapeHtml(item.name || 'DCF anal√Ωza')}</p>
          <div class="wlMeta">
            ${item.dateLabel || ''}${item.inputs?.ticker ? ' ‚Ä¢ '+escapeHtml(item.inputs.ticker) : ''}
          </div>
        </div>
        <div class="wlBtns">
          <button class="miniBtn" data-wl-open="${item.id}">Otev≈ô√≠t</button>
          <button class="miniBtn danger" data-wl-del="${item.id}">Smazat</button>
        </div>
      </div>

      <div class="wlGrid">
        <div class="scCard">
          <div class="scTop"><div class="scName">Base</div><div class="tag">FV</div></div>
          <div class="scVal">${fmt(base,2)}</div>
          <div class="line"><span>Upside</span><span>${Number.isFinite(upside)?((upside>=0?'+':'')+(upside*100).toFixed(1)+' %'):'‚Äî'}</span></div>
        </div>
        <div class="scCard">
          <div class="scTop"><div class="scName">Range</div><div class="tag">Bear‚ÜîBull</div></div>
          <div class="scVal">${fmt(low,2)}‚Äì${fmt(high,2)}</div>
          <div class="line"><span>Bear</span><span>${fmt(bear,2)}</span></div>
          <div class="line"><span>Bull</span><span>${fmt(bull,2)}</span></div>
        </div>
      </div>
    `;
    wlList.appendChild(el);
  });
}

document.addEventListener('click', (e) => {
  const del = e.target.closest('[data-wl-del]');
  const open = e.target.closest('[data-wl-open]');

  if(del){
    const id = del.getAttribute('data-wl-del');
    const wl = loadWatchlist().filter(x => x.id !== id);
    saveWatchlist(wl);
    renderWatchlist();
    showMsg(wlMsg, 'Polo≈æka smaz√°na.', 'warn');
  }

  if(open){
    const id = open.getAttribute('data-wl-open');
    const wl = loadWatchlist();
    const item = wl.find(x => x.id === id);
    if(!item) return;

    const inp = item.inputs || {};
    d('d_ticker').value = inp.ticker || '';
    d('d_price').value  = inp.price ?? '';
    d('d_fcf').value    = inp.fcf0 ?? '';
    d('d_years').value  = inp.years ?? '';

    d('d_g').value  = inp.base?.g ? inp.base.g*100 : '';
    d('d_r').value  = inp.base?.r ? inp.base.r*100 : '';
    d('d_gt').value = inp.base?.gt ? inp.base.gt*100 : '';
    d('d_mos').value = inp.mos ? inp.mos*100 : 20;

    go('dcf');
    setTimeout(() => computeDcf(), 50);
  }
});

document.getElementById('btnWlClear').addEventListener('click', () => {
  saveWatchlist([]);
  renderWatchlist();
  showMsg(wlMsg, 'Watchlist vymaz√°n.', 'warn');
});

document.getElementById('btnWlRefresh').addEventListener('click', () => {
  renderWatchlist();
  showMsg(wlMsg, 'Obnoveno.', 'good');
});

// v√Ωchoz√≠ hodnoty
if(!d('d_r').value) d('d_r').value = '9';
if(!d('d_gt').value) d('d_gt').value = '2,5';

</script>
</body>
</html>
    
    

    

    

 


        


        



  


 

            

        




          

        

          





  

  

  


  


    


      

  

    

          
    

    

    
    


    





    

    

  
        

    
    

  

  





