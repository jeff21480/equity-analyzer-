<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Anal√Ωza akci√≠</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-1: #0c0c20;
      --bg-2: #1b1440;
      --bg-3: #050515;
      --card-bg: rgba(13, 16, 34, 0.95);

      --accent-1: #7c5cff;
      --accent-2: #3b82f6;
      --accent-3: #ec4899;
      --accent-green: #22c55e;

      --text-main: #ffffff;
      --text-muted: #9ca3af;

      --shadow-strong: 0 25px 50px rgba(0,0,0,0.55);
      --shadow-soft: 0 10px 25px rgba(0,0,0,0.35);

      --radius-xl: 26px;
      --radius-lg: 18px;
    }

    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background:
        radial-gradient(circle at top left, #4c1d95 0%, transparent 55%),
        radial-gradient(circle at top right, #0ea5e9 0%, transparent 50%),
        linear-gradient(to bottom, #0f0f25 0%, #030311 100%);
      color: var(--text-main);
      
      min-height: 100vh;
      padding: 0;
    }

    .app {
  width: 100%;
  max-width: none;
  margin: 0 0 40px;
    }/* A) Full-width karty (Analyz√°tor + Kalkulaƒçka) */
#screen-analyzer .card-panel,
#screen-calc .card-panel {
  width: 100%;
  max-width: none;
  margin: 0;}
/* B) rozt√°hnout obsah screen≈Ø na full width */
#screen-analyzer,
#screen-calc {
  max-width: none;
  width: 100%;
  padding-left: 0;
  padding-right: 0;
}

    /* HORN√ç LI≈†TA */
    .top-bar {
      width: 100%;
      padding: 10px 18px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.5);
      border: 1px solid rgba(148,163,184,0.35);
      backdrop-filter: blur(12px);
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 26px;
      font-size:  color: var(--text-muted);
    }

    .top-bar .right {
      color: #4ade80;
      font-weight: 600;
    }

    /* OBECN√â SCREENY */
    .screen {
      display: none;
    }
    .screen.active {
      display: block;
    }

    /* HOME */
    .home-header {
      margin-bottom: 26px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent-3), var(--accent-2));
      font-size: 0.85rem;
      font-weight: 500;
      box-shadow: var(--shadow-soft);
      margin-bottom: 10px;
    }

    .badge .dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 10px rgba(34,197,94,1);
    }

    .main-title {
      font-size: 2.6rem;
      font-weight: 700;
      margin: 6px 0 10px;
    }

    .sub-title {
      font-size: 1rem;
      color: var(--text-muted);
      max-width: 520px;
    }

    .menu {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-top: 24px;
    }

    .menu-card {
      background: var(--card-bg);
      padding: 20px 24px;
      border-radius: var(--radius-xl);
      border: 1px solid rgba(148,163,184,0.25);
      box-shadow: var(--shadow-strong);
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      transition: 0.18s ease-out;
    }

    .menu-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 30px 60px rgba(0,0,0,0.55);
      border-color: rgba(129,140,248,0.7);
    }

    .menu-left {
      display: flex;
      gap: 16px;
      align-items: center;
    }

    .menu-icon {
      width: 42px;
      height: 42px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.2);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
    }

    .menu-text-title {
      font-size: 1.15rem;
      font-weight: 600;
    }

    .menu-text-sub {
      font-size: 0.9rem;
      color: var(--text-muted);
    }

    .menu-arrow {
      font-size: 1.4rem;
      opacity: 0.8;
    }

    /* TOPBAR UVNIT≈ò ≈†UPL√çK≈Æ */
    .inner-topbar {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
    }

    .back-btn {
      width: 34px;
      height: 34px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.1rem;
      transition: 0.15s;
    }

    .back-btn:hover {
      background: rgba(15,23,42,0.95);
    }

    .inner-title-block {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .inner-title-block .main {
      font-weight: 600;
      font-size: 1rem;
    }

    .inner-title-block .sub {
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    /* PANEL */
    .card-panel {
      background: radial-gradient(circle at top left, rgba(37,99,235,0.25), rgba(13,16,34,0.95));
      border-radius: var(--radius-lg);
      border: 1px solid rgba(148,163,184,0.45);
      box-shadow: var(--shadow-strong);
      padding: 18px 16px 20px;
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 10px;
    }

    .panel-title {
      font-size: 1.02rem;
      font-weight: 600;
    }

    .panel-pill {
      font-size: 0.7rem;
      padding: 3px 9px;
      border-radius: 999px;
      background: linear-gradient(135deg, var(--accent-1), var(--accent-3));
      border: 1px solid rgba(191,219,254,0.7);
      color: #f9fafb;
      text-transform: uppercase;
      letter-spacing: 0.06em;
      box-shadow: 0 0 12px rgba(129,140,248,0.8);
    }

    .panel-sub {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .placeholder-panel {
      font-size: 0.86rem;
      color: var(--text-muted);
      line-height: 1.5;
    }

    /* FORMUL√Å≈òE */
    .form-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px 14px;
      margin-top: 10px;
    }

    @media (max-width: 640px) {
      .form-grid {
        grid-template-columns: 1fr;
      }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    label {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    label span.tag {
      margin-left: 6px;
      font-size: 0.7rem;
      padding: 1px 8px;
      border-radius: 999px;
      background: rgba(148, 163, 184, 0.18);
      color: #e5e7eb;
    }

    input, select, textarea {
      border-radius: 11px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: radial-gradient(circle at top left, rgba(15, 23, 42, 0.98), rgba(15, 23, 42, 0.9));
      padding: 8px 10px;
      color: var(--text-main);
      font-size: 0.9rem;
      outline: none;
      transition: border 0.15s, box-shadow 0.15s, transform 0.1s;
    }

    textarea {
      resize: vertical;
      min-height: 80px;
    }

    input::placeholder, textarea::placeholder {
      color: #6b7280;
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--accent-2);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5);
      transform: translateY(-1px);
    }

    /* TLAƒå√çTKA */
    .btn-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 14px;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: 0.16s;
    }

    button.primary {
      background: linear-gradient(135deg, #4ade80, #22c55e);
      color: #052e16;
      box-shadow: 0 12px 28px rgba(34, 197, 94, 0.55);
    }

    button.secondary {
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-main);
      border: 1px solid rgba(148, 163, 184, 0.7);
    }

    button.danger {
      background: rgba(239, 68, 68, 0.1);
      color: #fecaca;
      border: 1px solid rgba(248,113,113,0.8);
    }

    button.ghost {
      background: transparent;
      color: var(--text-muted);
      border: 1px dashed rgba(148, 163, 184, 0.7);
      font-size: 0.8rem;
    }

    button:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.7);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: 0 6px 16px rgba(0,0,0,0.7);
    }

    /* V√ùSLEDKOV√â BOXY */
    .result-box {
      margin-top: 16px;
      padding-top: 10px;
      border-top: 1px dashed rgba(148, 163, 184, 0.5);
      font-size: 0.85rem;
    }

    .result-main {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .result-main span {
      font-size: 0.8rem;
      font-weight: 400;
      color: var(--text-muted);
      margin-left: 4px;
    }

    .result-note {
      margin-top: 6px;
      font-size: 0.78rem;
      color: var(--text-muted);
    }

    /* TABULKY (Watchlist / Portfolio / Earnings) */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 0.85rem;
    }

    th, td {
      padding: 7px 8px;
      border-bottom: 1px solid rgba(31, 41, 55, 0.8);
      text-align: left;
    }

    th {
      font-weight: 500;
      color: var(--text-muted);
      background: rgba(15, 23, 42, 0.8);
    }

    tr:nth-child(even) td {
      background: rgba(15, 23, 42, 0.6);
    }

    .tag-pill {
      display: inline-flex;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
    }

    .diff-pill {
      display: inline-flex;
      padding: 2px 8px;
      border-radius: 999px;
      font-size: 0.75rem;
      border: 1px solid transparent;
    }

    .diff-pos {
      background: rgba(22, 163, 74, 0.15);
      border-color: rgba(34, 197, 94, 0.6);
      color: #bbf7d0;
    }

    .diff-neg {
      background: rgba(239, 68, 68, 0.14);
      border-color: rgba(248, 113, 113, 0.7);
      color: #fecaca;
    }

    .diff-neutral {
      background: rgba(55, 65, 81, 0.8);
      border-color: rgba(75, 85, 99, 0.9);
      color: #e5e7eb;
    }

    .muted {
  color: var(--text-muted);
  font-size: 0.8rem;
    }

/* skryt√≠ S&P koleƒçka v horn√≠ li≈°tƒõ */
.top-bar .right {
  display: none !important;
}
@media (max-width: 768px) {

  .table-wrap {
    display: none;
  }

  .wl-cards {
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
    margin-top: 12px;
  }

  .wl-card {
    background: rgba(13,16,34,0.95);
    border-radius: 14px;
    padding: 12px;
    box-shadow: 0 10px 25px rgba(0,0,0,.35);
  }

  .wl-row {
    display: flex;
    justify-content: space-between;
    font-size: 0.9rem;
    margin-bottom: 6px;
  }

  .wl-row strong {
    color: #9ca3af;
    font-weight: 500;
  }

  .wl-actions {
    display: flex;
    justify-content: flex-end;
    margin-top: 10px;
  }
    }
  </style>
</head>

<body>
<div class="app">

  

  

  <!-- HOME -->
  <section id="screen-home" class="screen active">
    <div class="home-header">
      <div class="badge">
        <span class="dot"></span>
        Anal√Ωza akci√≠ ¬∑ Beta
      </div>

      <div class="main-title">Anal√Ωza akci√≠</div>
      <div class="sub-title">
        Modern√≠ n√°stroje pro investory: watchlist, portfolio, earnings, valuace a slo≈æen√© √∫roƒçen√≠.
      </div>
    </div>

    <div class="menu">
  <div class="menu-card" data-target="analyzer">
    <div class="menu-left">
      <div class="menu-icon">üìà</div>
      <div>
        <div class="menu-text-title">Analyz√°tor</div>
        <div class="menu-text-sub">Odhad vnit≈ôn√≠ hodnoty</div>
      </div>
    </div>
    <div class="menu-arrow">‚Ä∫</div>
  </div>

  <div class="menu-card" data-target="calc">
    <div class="menu-left">
      <div class="menu-icon">üßÆ</div>
      <div>
        <div class="menu-text-title">Kalkulaƒçka</div>
        <div class="menu-text-sub">Slo≈æen√© √∫roƒçen√≠</div>
      </div>
    </div>
    <div class="menu-arrow">‚Ä∫</div>
  </div>
<div class="menu-card" data-target="watchlist">
  <div class="menu-left">
    <div class="menu-icon">üëÄ</div>
    <div>
      <div class="menu-text-title">Watchlist</div>
      <div class="menu-text-sub">Ulo≈æen√© anal√Ωzy</div>
    </div>
  </div>
  <div class="menu-arrow">‚Ä∫</div>
</div>
  <div class="menu-card" data-target="how">
    <div class="menu-left">
      <div class="menu-icon">‚ÑπÔ∏è</div>
      <div>
        <div class="menu-text-title">Jak to funguje</div>
        <div class="menu-text-sub">metodika, vysvƒõtlen√≠, d≈Øvƒõra</div>
      </div>
    </div>
    <div class="menu-arrow">‚Ä∫</div>
  </div>
    </div>
  </section>
<!-- ANALYZ√ÅTOR ‚Äì DCF PROMPT -->

    </div>
  </div>
</section><section id="screen-analyzer" class="screen">
  <div class="inner-topbar">
    <button class="back-btn" data-back="home">‚Üê</button>
    <div class="inner-title-block">
      <span class="main">Analyz√°tor</span>
      <span class="sub">Odhad vnit≈ôn√≠ hodnoty (DCF Prompt)</span>
    </div>
  </div>

  <div class="card-panel">
    <div class="panel-header">
      <div class="panel-title">Vstupn√≠ parametry</div>
      <span class="panel-pill">DCF</span>
    </div>
    <div class="panel-sub">
      Zjednodu≈°en√Ω DCF model na 10 let + termin√°ln√≠ hodnota. V√Ωsledek je orientaƒçn√≠.
    </div>

    <div class="form-grid">
      <div class="field">
        <label for="dcf-ticker">Ticker / n√°zev akcie</label>
        <input id="dcf-ticker" type="text" placeholder="Nap≈ô. AAPL, MSFT, SOFI‚Ä¶" />
      </div>

      <div class="field">
        <label for="dcf-price">Aktu√°ln√≠ cena akcie <span class="tag">Kƒç nebo $</span></label>
        <input id="dcf-price" type="number" step="0.01" placeholder="nap≈ô. 250" />
      </div>
<div class="field">
  <label for="dcf-currency">Mƒõna v√Ωpoƒçtu</label>
  <select id="dcf-currency">
    <option value="USD">$ USD</option>
    <option value="EUR">‚Ç¨ EUR</option>
    <option value="CZK">Kƒç CZK</option>
  </select>
</div>
      <div class="field">
        <label for="dcf-fcf">FCF na akcii (posledn√≠ rok)</label>
        <input id="dcf-fcf" type="number" step="0.01" placeholder="nap≈ô. 8,5" />
      </div>

      <div class="field">
        <label for="dcf-growth">R≈Øst FCF (10 let) <span class="tag">% roƒçnƒõ</span></label>
        <input id="dcf-growth" type="number" step="0.1" placeholder="nap≈ô. 12" />
      </div>

      <div class="field">
        <label for="dcf-discount">Diskontn√≠ sazba <span class="tag">% roƒçnƒõ</span></label>
        <input id="dcf-discount" type="number" step="0.1" placeholder="nap≈ô. 9" />
      </div>

      <div class="field">
        <label for="dcf-terminal">Termin√°ln√≠ r≈Øst po 10. roce <span class="tag">% roƒçnƒõ</span></label>
        <input id="dcf-terminal" type="number" step="0.1" placeholder="nap≈ô. 2,5" />
      </div>
    </div>

    <div class="btn-row">
  <button class="secondary" type="button" id="dcf-example">
  Uk√°zkov√° data
</button>

<button class="primary" type="button" id="dcf-calc">
  Spoƒç√≠tat vnit≈ôn√≠ hodnotu
</button>
    <button class="secondary" type="button" id="dcf-save">
  P≈ôidat do sledovan√Ωch
    </button>
    </div>

    <div class="result-box">
      <div class="result-main" id="dcf-result">
  --,-- <span>vnit≈ôn√≠ hodnota na akcii</span>
      </div>
      <div class="result-note" id="dcf-note">
        Vypl≈à hodnoty a klikni na v√Ωpoƒçet.
      </div>
    </div>

    <div class="placeholder-panel" style="margin-top:18px; padding:12px; border-radius:12px; background:rgba(15,23,42,0.7); border:1px solid rgba(148,163,184,0.3); font-size:0.8rem; line-height:1.45;">
      <strong>DCF Prompt ‚Äì verze 1.0</strong><br><br>
      Model: 10let√° projekce FCF s konstantn√≠m r≈Østem + diskontn√≠ sazba + termin√°ln√≠ hodnota (Gordon Growth).
      V√Ωsledek je orientaƒçn√≠ a nen√≠ investiƒçn√≠m doporuƒçen√≠m.
    </div>
  </div>
</section>
  

  <!-- WATCHLIST ‚Äì FUNKƒåN√ç (lok√°ln√≠ verze) -->
  <section id="screen-watchlist" class="screen">
    <div class="inner-topbar">
      <button class="back-btn" data-back="home">‚Üê</button>
      <div class="inner-title-block">
        <span class="main">Watchlist</span>
        <span class="sub">Sledovan√© instrumenty</span>
      </div>
    </div>

    <div class="card-panel">
      <div class="panel-header">
        <div class="panel-title">P≈ôidat instrument</div>
        <span class="panel-pill">Lok√°ln√≠</span>
      </div>
      <div class="panel-sub">
        Zat√≠m bez napojen√≠ na tr≈æn√≠ data ‚Äì v≈°e se ukl√°d√° jen do tohoto za≈ô√≠zen√≠.
      </div>

      <div class="form-grid">
        <div class="field">
          <label for="wl-type">Typ</label>
          <select id="wl-type">
            <option value="Akcie">Akcie</option>
            <option value="ETF">ETF</option>
            <option value="Crypto">Crypto</option>
            <option value="Komodita">Komodita</option>
          </select>
        </div>

        <div class="field">
          <label for="wl-ticker">Ticker / symbol</label>
          <input id="wl-ticker" type="text" placeholder="AAPL, SPY, BTC, XAUUSD‚Ä¶" />
        </div>

        <div class="field">
          <label for="wl-name">N√°zev</label>
          <input id="wl-name" type="text" placeholder="Apple, S&P 500 ETF, Bitcoin‚Ä¶" />
        </div>

        <div class="field">
          <label for="wl-note">Pozn√°mka (voliteln√©)</label>
          <input id="wl-note" type="text" placeholder="Nap≈ô. dlouhodobƒõ, spekulace‚Ä¶" />
        </div>
      </div>

      <div class="btn-row">
        <button class="primary" type="button" id="wl-add">P≈ôidat do watchlistu</button>
        <button class="danger" type="button" id="wl-clear">Vymazat cel√Ω watchlist</button>
      </div>

      <div class="result-box">
  <div class="result-note" id="wl-message">
    Zat√≠m ≈æ√°dn√© polo≈æky. P≈ôidej prvn√≠.
  </div>
      </div>

<div id="wl-cards" class="wl-cards"></div>
<div class="table-wrap">
      <table id="wl-table" style="margin-top:14px; display:none;">
        <thead>
          <tr>
  <th>Typ</th>
  <th>Ticker</th>
  <th>Mƒõna</th>
  <th>Cena</th>
  <th>Fair value</th>
  <th>Rozd√≠l</th>
  <th>Datum</th>
  <th>Pozn√°mka</th>
  <th>Akce</th>
          </tr>
        </thead>
        <tbody id="wl-body"></tbody>
      </table>
    </div>
  </section>

  <!-- PORTFOLIO ‚Äì zat√≠m UI (napojen√≠ na data pozdƒõji) -->
  <section id="screen-portfolio" class="screen">
    <div class="inner-topbar">
      <button class="back-btn" data-back="home">‚Üê</button>
      <div class="inner-title-block">
        <span class="main">Portfolio</span>
        <span class="sub">Moje pozice (akcie, ETF, crypto, komodity)</span>
      </div>
    </div>

    <div class="card-panel">
      <div class="panel-header">
        <div class="panel-title">Struktura portfolia (n√°vrh)</div>
        <span class="panel-pill">Preview</span>
      </div>
      <div class="panel-sub">
        Tady budeme pozdƒõji poƒç√≠tat hodnotu pozic a P/L podle aktu√°ln√≠ch cen z API.
      </div>

      <div class="placeholder-panel">
        ‚Ä¢ Z√°kladn√≠ struktura: Ticker, typ, poƒçet kus≈Ø, n√°kupn√≠ cena, aktu√°ln√≠ cena, P/L<br>
        ‚Ä¢ Podpora: Akcie, ETF, Crypto, Komodita<br>
        ‚Ä¢ Pozdƒõji: souhrn hodnoty portfolia, celkov√Ω zisk/ztr√°ta, rozlo≈æen√≠ sektoru atd.<br><br>
        Teƒè dr≈æ√≠me jen UI ‚Äì logiku propojen√≠ s watchlistem a API dopln√≠me v dal≈°√≠ f√°zi.
      </div>
    </div>
  </section>

  <!-- EARNINGS ‚Äì RUƒåN√ç KALEND√Å≈ò -->
  <section id="screen-earnings" class="screen">
    <div class="inner-topbar">
      <button class="back-btn" data-back="home">‚Üê</button>
      <div class="inner-title-block">
        <span class="main">Earnings</span>
        <span class="sub">Term√≠ny ƒçtvrtletn√≠ch v√Ωsledk≈Ø</span>
      </div>
    </div>

    <div class="card-panel">
      <div class="panel-header">
        <div class="panel-title">Earnings kalend√°≈ô (ruƒçn√≠)</div>
        <span class="panel-pill">Kalend√°≈ô</span>
      </div>
      <div class="panel-sub">
        Jednoduch√Ω seznam ‚Äì data si m≈Ø≈æe≈° upravit p≈ô√≠mo v HTML. Pozdƒõji napoj√≠me na API.
      </div>

      <table>
        <thead>
          <tr>
            <th>Datum</th>
            <th>Ticker</th>
            <th>Firma</th>
            <th>Kvart√°l</th>
            <th>ƒåas</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>29. 7. 2025</td>
            <td>SOFI</td>
            <td>SoFi Technologies</td>
            <td>Q2 2025</td>
            <td>Po uzav≈ôen√≠ trhu</td>
          </tr>
          <tr>
            <td>30. 7. 2025</td>
            <td>PLTR</td>
            <td>Palantir Technologies</td>
            <td>Q2 2025</td>
            <td>P≈ôed otev≈ôen√≠m</td>
          </tr>
          <tr>
            <td>31. 7. 2025</td>
            <td>NVDA</td>
            <td>NVIDIA</td>
            <td>Q2 2025</td>
            <td>Po uzav≈ôen√≠ trhu</td>
          </tr>
        </tbody>
      </table>

      <div class="result-note" style="margin-top:10px;">
        Kdykoliv m≈Ø≈æe≈° tyto ≈ô√°dky upravit p≈ô√≠mo v souboru <code>index.html</code> podle sv√Ωch obl√≠ben√Ωch firem.
      </div>
    </div>
  </section>

  <!-- üßÆ KALKULAƒåKA ‚Äì FUNKƒåN√ç SLO≈ΩEN√â √öROƒåEN√ç -->
  <section id="screen-calc" class="screen">
    <div class="inner-topbar">
      <button class="back-btn" data-back="home">‚Üê</button>
      <div class="inner-title-block">
        <span class="main">Kalkulaƒçka</span>
        <span class="sub">Slo≈æen√© √∫roƒçen√≠</span>
      </div>
    </div>

    <div class="card-panel">
      <div class="panel-header">
        <div class="panel-title">Slo≈æen√© √∫roƒçen√≠</div>
        <span class="panel-pill">V√Ωpoƒçet</span>
      </div>
      <div class="panel-sub">
        V√Ωpoƒçet budouc√≠ hodnoty p≈ôi mƒõs√≠ƒçn√≠ch vkladech a roƒçn√≠m zhodnocen√≠.
      </div>

      <div class="form-grid">
        <div class="field">
          <label for="ci-start">Poƒç√°teƒçn√≠ vklad</label>
          <input id="ci-start" type="number" step="0.01" placeholder="nap≈ô. 50 000" />
        </div>
        <div class="field">
          <label for="ci-monthly">Mƒõs√≠ƒçn√≠ vklad</label>
          <input id="ci-monthly" type="number" step="0.01" placeholder="nap≈ô. 2 000" />
        </div>
        <div class="field">
          <label for="ci-years">Poƒçet let</label>
          <input id="ci-years" type="number" step="1" placeholder="nap≈ô. 15" />
        </div>
        <div class="field">
          <label for="ci-rate">Roƒçn√≠ v√Ωnos <span class="tag">% p.a.</span></label>
          <input id="ci-rate" type="number" step="0.1" placeholder="nap≈ô. 8" />
        </div>
      </div>

      <div class="btn-row">
        <button class="secondary" type="button" id="ci-example">Uk√°zkov√° data</button>
        <button class="primary" type="button" onclick="calcCompound()">
  Spoƒç√≠tat
        </button>
      </div>

      <div class="result-box">
        <div class="result-main" id="ci-result">--,-- Kƒç <span>budouc√≠ hodnota portfolia</span></div>
        <div class="result-note" id="ci-detail">
          Vypl≈à hodnoty a stiskni ‚ÄûSpoƒç√≠tat‚Äú.
        </div>
      </div>
    </div>
  </section>

  <!-- SMART MONEY ‚Äì zat√≠m jen UI -->
  <section id="screen-smartmoney" class="screen">
    <div class="inner-topbar">
      <button class="back-btn" data-back="home">‚Üê</button>
      <div class="inner-title-block">
        <span class="main">Smart Money</span>
        <span class="sub">Tr≈æn√≠ informace (preview)</span>
      </div>
    </div>

    <div class="card-panel">
      <div class="panel-header">
        <div class="panel-title">Tr≈æn√≠ informace</div>
        <span class="panel-pill">Preview</span>
      </div>
      <div class="panel-sub">
        Pozdƒõji napoj√≠me na API se zpr√°vami o firm√°ch z Watchlistu a portfolia.
      </div>

      <div class="placeholder-panel">
        ‚Ä¢ Zde se mohou zobrazovat novinky k firm√°m, kter√© m√°≈° ve watchlistu.<br>
        ‚Ä¢ Earnings preview, v√Ωznamn√© pohyby ceny, rating changes‚Ä¶<br>
        ‚Ä¢ Bude to jedna z nejzaj√≠mavƒõj≈°√≠ch PR√âMIOV√ùCH funkc√≠ appky.<br><br>
        Teƒè nech√°v√°me jen UI jako n√°stin, aby bylo ja<script>
/* ===== Equity Analyzer - JS (navigace + watchlist + v√Ωpoƒçty) ===== */

// ---------- helpers ----------
function normTicker(t) {
  return (t || "").toString().trim().toUpperCase();
}

function formatMoney(num) {
  if (num === null || num === undefined || num === "") return "";
  const n = Number(num);
  if (!Number.isFinite(n)) return "";
  return n.toLocaleString("cs-CZ", { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

function formatPct(num) {
  if (num === null || num === undefined || num === "") return "";
  const n = Number(num);
  if (!Number.isFinite(n)) return "";
  const sign = n > 0 ? "+" : "";
  return (sign + n.toFixed(1)).replace(".", ",") + " %";
}

// ---------- NAVIGACE (odoln√° na mobil) ----------
function showScreen(name) {
  document.querySelectorAll(".screen, section.screen").forEach((s) => s.classList.remove("active"));
  const el = document.getElementById(name);
  if (el) el.classList.add("active");
  // mobile: posun nahoru, a≈• u≈æivatel vid√≠ nov√Ω screen
  try { window.scrollTo({ top: 0, behavior: "smooth" }); } catch(e) { window.scrollTo(0, 0); }
}

// Delegace klik≈Ø = funguje i kdy≈æ klikne≈° na ikonku/text uvnit≈ô karty
document.addEventListener("click", (e) => {
  // menu dla≈ædice
  const card = e.target.closest(".menu-card");
  if (card) {
    const target = card.getAttribute("data-target") || card.dataset.target;
    if (target) showScreen(target);
    return;
  }

  // tlaƒç√≠tko zpƒõt: podporuje [data-back] i .back-btn
  const backBtn = e.target.closest("[data-back], .back-btn");
  if (backBtn) {
    const to = backBtn.getAttribute("data-back") || backBtn.dataset.back || "home";
    showScreen(to);
    return;
  }
}, true);

// ---------- WATCHLIST ----------
const WL_KEY = "equity_watchlist_v1";

function loadWatchlist() {
  try {
    const raw = localStorage.getItem(WL_KEY);
    const arr = raw ? JSON.parse(raw) : [];
    return Array.isArray(arr) ? arr : [];
  } catch (e) {
    return [];
  }
}

function saveWatchlist(list) {
  try {
    localStorage.setItem(WL_KEY, JSON.stringify(list || []));
  } catch (e) {}
}

function renderWatchlist() {
  const box = document.getElementById("wl-list");
  if (!box) return;

  const list = loadWatchlist();
  if (!list.length) {
    box.innerHTML = `<div style="opacity:.8">Zat√≠m tu nic nen√≠. Ulo≈æ si prvn√≠ anal√Ωzu üôÇ</div>`;
    return;
  }

  box.innerHTML = list.map((it, idx) => {
    const t = (it.ticker || "").toString();
    const n = (it.name || "").toString();
    const note = (it.note || "").toString();
    const price = it.price ?? "";
    const fair = it.fair ?? "";
    const diff = it.diff ?? "";

    return `
      <div class="wl-item" style="padding:12px;border-radius:14px;background:rgba(255,255,255,.06);margin:10px 0;">
        <div style="display:flex;justify-content:space-between;gap:12px;align-items:flex-start;">
          <div>
            <div style="font-weight:800;font-size:16px;">${t}${n ? ` ‚Ä¢ ${n}` : ""}</div>
            ${note ? `<div style="opacity:.85;margin-top:4px;">${note}</div>` : ""}
            <div style="opacity:.85;margin-top:8px;font-size:13px;">
              Cena: <b>${price !== "" ? formatMoney(price) : "‚Äî"}</b> |
              F√©rov√°: <b>${fair !== "" ? formatMoney(fair) : "‚Äî"}</b> |
              Rozd√≠l: <b>${diff !== "" ? formatPct(diff) : "‚Äî"}</b>
            </div>
          </div>

          <button class="wl-del" data-wl-del="${idx}"
            style="border:0;border-radius:10px;padding:8px 10px;background:rgba(255,80,80,.25);color:#fff;">
            Smazat
          </button>
        </div>
      </div>
    `;
  }).join("");
}

// maz√°n√≠ polo≈æky (delegace)
document.addEventListener("click", (e) => {
  const del = e.target.closest("[data-wl-del]");
  if (!del) return;

  const idx = Number(del.getAttribute("data-wl-del"));
  const list = loadWatchlist();
  if (!Number.isInteger(idx) || idx < 0 || idx >= list.length) return;

  list.splice(idx, 1);
  saveWatchlist(list);
  renderWatchlist();
}, true);

function addToWatchlist(payload) {
  const list = loadWatchlist();
  list.unshift(payload);
  saveWatchlist(list);
  renderWatchlist();
}

// ---------- DCF ----------
function calculateDCF() {
  const price = parseFloat(document.getElementById("dcf-price")?.value);
  const fcf = parseFloat(document.getElementById("dcf-fcf")?.value);
  const growth = parseFloat(document.getElementById("dcf-growth")?.value);
  const discount = parseFloat(document.getElementById("dcf-discount")?.value);
  const terminal = parseFloat(document.getElementById("dcf-terminal")?.value);

  const resultEl = document.getElementById("dcf-result");
  const noteEl = document.getElementById("dcf-note");

  if ([price, fcf, growth, discount, terminal].some(v => !Number.isFinite(v))) {
    if (resultEl) resultEl.textContent = "";
    if (noteEl) noteEl.textContent = "Vypl≈à pros√≠m v≈°echna pole.";
    return null;
  }

  const g = growth / 100;
  const r = discount / 100;
  const tg = terminal / 100;

  const years = 10;
  let pv = 0;
  let cashFlow = fcf;

  for (let t = 1; t <= years; t++) {
    cashFlow *= (1 + g);
    pv += cashFlow / Math.pow(1 + r, t);
  }

  const terminalValue = (cashFlow * (1 + tg)) / (r - tg);
  const pvTerminal = terminalValue / Math.pow(1 + r, years);

  const fairValue = pv + pvTerminal;
  const diffPct = ((fairValue / price) - 1) * 100;

  if (resultEl) resultEl.textContent = formatMoney(fairValue);
  if (noteEl) noteEl.textContent = `Rozd√≠l vs. cena: ${formatPct(diffPct)}`;

  return { fairValue, diffPct, price };
}

// ---------- Slo≈æen√© √∫roƒçen√≠ ----------
function calcCompound() {
  const start = parseFloat(document.getElementById("c-start")?.value);
  const monthly = parseFloat(document.getElementById("c-monthly")?.value);
  const years = parseFloat(document.getElementById("c-years")?.value);
  const rateYear = parseFloat(document.getElementById("c-rate")?.value);

  const resultEl = document.getElementById("c-result");
  const detailEl = document.getElementById("c-detail");

  if ([start, monthly, years, rateYear].some(v => !Number.isFinite(v))) {
    if (resultEl) resultEl.textContent = "";
    if (detailEl) detailEl.textContent = "Vypl≈à pros√≠m v≈°echna pole.";
    return;
  }

  const n = Math.round(years * 12);
  const r = rateYear / 100 / 12;

  let future = 0;
  if (r === 0) {
    future = start + monthly * n;
  } else {
    future =
      start * Math.pow(1 + r, n) +
      monthly * ((Math.pow(1 + r, n) - 1) / r);
  }

  const invested = start + monthly * n;
  const interest = future - invested;

  if (resultEl) resultEl.textContent = formatMoney(future);
  if (detailEl) {
    detailEl.textContent =
      `Celkem vlo≈æeno: ${formatMoney(invested)} | Zisk: ${formatMoney(interest)}`;
  }
}

// ---------- napojen√≠ tlaƒç√≠tek ----------
document.addEventListener("DOMContentLoaded", () => {
  // start screen
  showScreen("home");

  // prvn√≠ render watchlistu
  renderWatchlist();

  // DCF calculate
  const dcfBtn = document.getElementById("dcf-calc");
  if (dcfBtn) {
    dcfBtn.addEventListener("click", (e) => {
      e.preventDefault();
      calculateDCF();
    });
  }

  // DCF save to watchlist
  const dcfSave = document.getElementById("dcf-save");
  if (dcfSave) {
    dcfSave.addEventListener("click", (e) => {
      e.preventDefault();
      const res = calculateDCF();
      if (!res) return;

      const ticker = normTicker(document.getElementById("wl-ticker")?.value);
      const name = (document.getElementById("wl-name")?.value || "").toString().trim();
      const note = (document.getElementById("wl-note")?.value || "").toString().trim();

      addToWatchlist({
        ticker: ticker || "‚Äî",
        name,
        note,
        price: res.price,
        fair: res.fairValue,
        diff: res.diffPct,
        ts: Date.now()
      });

      const msg = document.getElementById("wl-msg");
      if (msg) msg.textContent = "Polo≈æka ulo≈æen√° do Watchlistu ‚úÖ";
    });
  }

  // Watchlist clear
  const wlClear = document.getElementById("wl-clear");
  if (wlClear) {
    wlClear.addEventListener("click", (e) => {
      e.preventDefault();
      const list = loadWatchlist();
      if (!list.length) return;
      if (!confirm("Opravdu chce≈° vymazat cel√Ω watchlist?")) return;
      saveWatchlist([]);
      renderWatchlist();
    });
  }

  // Compound calculate
  const cBtn = document.getElementById("c-calc");
  if (cBtn) {
    cBtn.addEventListener("click", (e) => {
      e.preventDefault();
      calcCompound();
    });
  }
});
        
      </div>
    </div>
  </section>

</div>

<script> <script>
/* ====== START APP ====== */
document.addEventListener("DOMContentLoaded", () => {
  // test, ≈æe JS bƒõ≈æ√≠
  alert("JS bƒõ≈æ√≠ ‚úÖ");

  // Delegace klik≈Ø (spolehliv√© na mobilu)
  document.addEventListener("click", (e) => {
    const card = e.target.closest(".menu-card");
    if (card) {
      const target = card.getAttribute("data-target");
      if (target) showScreen(target);
      return;
    }

    const backBtn = e.target.closest("[data-back]");
    if (backBtn) {
      const back = backBtn.getAttribute("data-back") || "home";
      showScreen(back);
    }
  }, true);

  // start
  showScreen("home");
});
/* ====== END APP ====== */
</script>
</body>
</html>
        
