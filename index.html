<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Analyz√°tor akci√≠</title>
    <style>
        /* ===== Z√ÅKLADN√ç STYL ===== */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            min-height: 100vh;
            background: radial-gradient(circle at top, #8a3ffc 0, #2b0b6b 40%, #050018 100%);
            color: #ffffff;
            display: flex;
            align-items: stretch;
            justify-content: center;
            padding: 24px 16px 40px;
        }

        .app {
            width: 100%;
            max-width: 960px;
        }

        .header {
            margin-bottom: 24px;
        }

        .title {
            font-size: 2.4rem;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1rem;
            opacity: 0.9;
        }

        /* ===== KARTY ===== */
        .cards {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 24px;
        }

        .card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(0,0,0,0.25));
            border-radius: 18px;
            padding: 18px 18px 20px;
            box-shadow: 0 18px 40px rgba(0, 0, 0, 0.45);
            border: 1px solid rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(18px);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 999px;
            background: rgba(255,255,255,0.12);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .card-desc {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* ===== FORMUL√Å≈ò ===== */
        .form-group {
            margin-top: 12px;
        }

        label {
            display: block;
            font-size: 0.85rem;
            margin-bottom: 6px;
            opacity: 0.9;
        }

        input[type="text"],
        input[type="number"] {
            width: 100%;
            padding: 10px 12px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.22);
            background: rgba(5, 0, 24, 0.75);
            color: #ffffff;
            font-size: 0.95rem;
            outline: none;
        }

        input::placeholder {
            color: rgba(255,255,255,0.55);
        }

        input:focus {
            border-color: #3bf5a5;
            box-shadow: 0 0 0 1px rgba(59, 245, 165, 0.45);
        }

        .inputs-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-top: 8px;
        }

        @media (min-width: 640px) {
            .inputs-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        .button-primary {
            width: 100%;
            margin-top: 16px;
            padding: 11px 16px;
            border-radius: 999px;
            border: none;
            background: linear-gradient(90deg, #00d26a, #00f29c);
            color: #050018;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 16px 30px rgba(0, 0, 0, 0.45);
            transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.08s ease;
        }

        .button-primary:active {
            transform: translateY(1px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.55);
            filter: brightness(0.96);
        }

        .note {
            font-size: 0.8rem;
            margin-top: 8px;
            opacity: 0.8;
        }

        .result-box {
            margin-top: 16px;
            padding: 12px 14px;
            border-radius: 14px;
            background: rgba(4, 246, 152, 0.08);
            border: 1px solid rgba(4, 246, 152, 0.45);
            font-size: 0.9rem;
        }

        .result-main {
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .result-secondary {
            font-size: 0.85rem;
            opacity: 0.9;
        }

        /* ===== DCF KARTA ===== */
        .tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.78rem;
            padding: 3px 9px;
            border-radius: 999px;
            background: rgba(0,0,0,0.4);
            border: 1px solid rgba(255,255,255,0.16);
            margin-top: 10px;
        }

        .tag-dot {
            width: 6px;
            height: 6px;
            border-radius: 999px;
            background: #f5d13b;
        }

        .footer-note {
            margin-top: 20px;
            font-size: 0.75rem;
            opacity: 0.75;
        }
    </style>
</head>
<body>
<div class="app">
    <header class="header">
        <h1 class="title">Analyz√°tor akci√≠</h1>
        <p class="subtitle">
            Zadej z√°kladn√≠ p≈ôedpoklady a orientaƒçnƒõ spoƒç√≠tej vnit≈ôn√≠ (f√©rovou) hodnotu akcie.
            V√Ωsledky jsou pouze informaƒçn√≠ a nejde o investiƒçn√≠ doporuƒçen√≠.
        </p>
    </header>

    <main class="cards">

        <!-- ==== RYCHL√ù V√ùPOƒåET F√âROV√â CENY ==== -->
        <section class="card" id="quick-card">
            <div class="card-header">
                <div class="card-icon">üìä</div>
                <div>
                    <h2 class="card-title">Rychl√Ω v√Ωpoƒçet f√©rov√© ceny</h2>
                    <p class="card-desc">
                        Jednoduch√Ω DCF model ‚Äì zad√°≈° ticker (jen pro popisek) a p√°r p≈ôedpoklad≈Ø.
                    </p>
                </div>
            </div>

            <form id="fairValueForm">
                <div class="form-group">
                    <label for="ticker">Ticker (jen n√°zev, neovliv≈àuje v√Ωpoƒçet)</label>
                    <input id="ticker" type="text" placeholder="Nap≈ô. AAPL" autocomplete="off" />
                </div>

                <div class="inputs-grid">
                    <div class="form-group">
                        <label for="eps">
                            Aktu√°ln√≠ zisk na akcii (EPS) <small>(v USD)</small>
                        </label>
                        <input id="eps" type="number" step="0.01" min="0" placeholder="Nap≈ô. 6" value="6" />
                    </div>

                    <div class="form-group">
                        <label for="growth">
                            Oƒçek√°van√Ω roƒçn√≠ r≈Øst zisk≈Ø (%) 
                        </label>
                        <input id="growth" type="number" step="0.1" placeholder="Nap≈ô. 10" value="10" />
                    </div>

                    <div class="form-group">
                        <label for="years">
                            Poƒçet let progn√≥zy
                        </label>
                        <input id="years" type="number" min="1" max="20" placeholder="Nap≈ô. 10" value="10" />
                    </div>

                    <div class="form-group">
                        <label for="discount">
                            Diskontn√≠ sazba (%) ‚Äì po≈æadovan√Ω v√Ωnos
                        </label>
                        <input id="discount" type="number" step="0.1" placeholder="Nap≈ô. 9" value="9" />
                    </div>

                    <div class="form-group">
                        <label for="terminalPe">
                            C√≠lov√Ω P/E na konci obdob√≠
                        </label>
                        <input id="terminalPe" type="number" step="0.1" placeholder="Nap≈ô. 15" value="15" />
                    </div>

                    <div class="form-group">
                        <label for="margin">
                            Bezpeƒçnostn√≠ rezerva (%) ‚Äì sleva pro n√°kup
                        </label>
                        <input id="margin" type="number" step="1" placeholder="Nap≈ô. 25" value="25" />
                    </div>
                </div>

                <button type="submit" class="button-primary">Spoƒç√≠tat</button>

                <p class="note">
                    Model je zjednodu≈°en√Ω a pracuje jen s tebou zadan√Ωmi p≈ôedpoklady
                    (EPS ~ voln√Ω cash flow). Slou≈æ√≠ pouze pro orientaƒçn√≠ v√Ωpoƒçet.
                </p>
            </form>

            <div id="resultBox" class="result-box" style="display:none;">
                <div class="result-main" id="resultMain"></div>
                <div class="result-secondary" id="resultDetails"></div>
            </div>
        </section>

        <!-- ==== DCF ‚Äì POZDEJI ==== -->
        <section class="card">
            <div class="card-header">
                <div class="card-icon">üßÆ</div>
                <div>
                    <h2 class="card-title">Pokroƒçil√Ω DCF model</h2>
                    <p class="card-desc">
                        Detailnƒõj≈°√≠ model (tr≈æby, mar≈æe, reinvestice atd.) ‚Äì zat√≠m v p≈ô√≠pravƒõ.
                    </p>
                </div>
            </div>
            <div class="tag">
                <span class="tag-dot"></span>
                <span>Brzy ‚Äì pl√°nujeme roz≈°√≠≈ôit o v√≠ce vstupn√≠ch parametr≈Ø</span>
            </div>
        </section>

        <p class="footer-note">
            Upozornƒõn√≠: Tento n√°stroj je urƒçen pouze ke vzdƒõl√°vac√≠m √∫ƒçel≈Øm.
            Nejedn√° se o investiƒçn√≠ doporuƒçen√≠ ani finanƒçn√≠ poradenstv√≠.
        </p>
    </main>
</div>

<script>
    // Jednoduch√Ω v√Ωpoƒçet vnit≈ôn√≠ hodnoty na z√°kladƒõ zadan√Ωch p≈ôedpoklad≈Ø.
    // Model je zjednodu≈°en√Ω DCF: pou≈æ√≠v√°me EPS jako proxy pro voln√Ω cash flow.
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("fairValueForm");
        const resultBox = document.getElementById("resultBox");
        const resultMain = document.getElementById("resultMain");
        const resultDetails = document.getElementById("resultDetails");

        form.addEventListener("submit", function (event) {
            event.preventDefault();

            const ticker = document.getElementById("ticker").value.trim() || "Nezn√°m√Ω ticker";
            const eps = parseFloat(document.getElementById("eps").value.replace(",", "."));
            const growth = parseFloat(document.getElementById("growth").value.replace(",", "."));
            const years = parseInt(document.getElementById("years").value, 10);
            const discount = parseFloat(document.getElementById("discount").value.replace(",", "."));
            const terminalPe = parseFloat(document.getElementById("terminalPe").value.replace(",", "."));
            const margin = parseFloat(document.getElementById("margin").value.replace(",", "."));

            if (isNaN(eps) || eps <= 0 || isNaN(growth) || isNaN(years) || years <= 0 ||
                isNaN(discount) || discount <= 0 || isNaN(terminalPe) || terminalPe <= 0 ||
                isNaN(margin) || margin < 0) {
                alert("Zkontroluj pros√≠m vstupy ‚Äì v≈°echna ƒç√≠sla mus√≠ b√Ωt vyplnƒõna a vƒõt≈°inou kladn√°.");
                return;
            }

            const g = growth / 100;
            const r = discount / 100;
            const mos = margin / 100;

            // V√Ωpoƒçet: souƒçet diskontovan√Ωch EPS (jako cash flow) + diskontovan√Ω termin√°ln√≠ PE.
            let pvCashFlows = 0;
            for (let t = 1; t <= years; t++) {
                const eps_t = eps * Math.pow(1 + g, t);
                const cf_t = eps_t; // zjednodu≈°en√≠: EPS ~ FCF na akcii
                const discountFactor = Math.pow(1 + r, t);
                pvCashFlows += cf_t / discountFactor;
            }

            const eps_n = eps * Math.pow(1 + g, years);
            const terminalValue = eps_n * terminalPe;
            const pvTerminal = terminalValue / Math.pow(1 + r, years);

            const intrinsicValue = pvCashFlows + pvTerminal;
            const buyPrice = intrinsicValue * (1 - mos);

            const roundedIntrinsic = intrinsicValue.toFixed(2);
            const roundedBuy = buyPrice.toFixed(2);

            resultMain.textContent =
                `Odhad f√©rov√© ceny pro ${ticker}: ‚âà ${roundedIntrinsic} USD na akcii.`;
            resultDetails.textContent =
                `P≈ôi bezpeƒçnostn√≠ rezervƒõ ${margin.toFixed(0)} % vych√°z√≠ orientaƒçn√≠ n√°kupn√≠ cena ` +
                `‚âà ${roundedBuy} USD na akcii. ` +
                `P≈ôedpoklady: EPS ${eps}, r≈Øst ${growth}% roƒçnƒõ po dobu ${years} let, ` +
                `diskontn√≠ sazba ${discount} %, c√≠lov√Ω P/E ${terminalPe}.`;

            resultBox.style.display = "block";
            resultBox.scrollIntoView({ behavior: "smooth", block: "start" });
        });
    });
</script>
</body>
</html>
