<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Analýza akcií – MVP (DCF)</title>

  <style>
    :root{
      --bgA:#0b1030;
      --bgB:#1a1550;
      --bgC:#2f1a6a;

      --card: rgba(255,255,255,.08);
      --card2: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.16);
      --stroke2: rgba(255,255,255,.11);

      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.68);

      --accent: #a855f7;   /* výrazná fialová */
      --accent2:#4f46e5;   /* výrazná modrá */
      --good:#22c55e;
      --bad:#ef4444;
      --warn:#f59e0b;

      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius: 22px;
      --radius2: 16px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      /* jemný, čistý gradient bez pruhů */
      background:
        radial-gradient(1100px 700px at 20% 12%, rgba(168,85,247,.40), transparent 60%),
        radial-gradient(900px 600px at 85% 30%, rgba(79,70,229,.35), transparent 55%),
        linear-gradient(155deg, var(--bgA), var(--bgB) 55%, var(--bgC));
      background-attachment: fixed;
    }

    a{ color:inherit; }

    .app{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 14px 96px;
    }

    .topBar{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding: 10px 6px 16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
    }
    .logo{
      width:42px; height:42px; border-radius:14px;
      background: linear-gradient(135deg, rgba(168,85,247,.85), rgba(79,70,229,.85));
      box-shadow: 0 10px 26px rgba(0,0,0,.35);
      border: 1px solid rgba(255,255,255,.18);
      display:grid; place-items:center;
      font-weight:900;
      letter-spacing:.5px;
    }
    .brand h1{
      margin:0;
      font-size: 18px;
      line-height:1.1;
    }
    .brand .sub{
      margin:0;
      font-size: 12.5px;
      color: var(--muted);
    }

    .pill{
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.14);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 26px rgba(0,0,0,.25);
      font-size: 12.5px;
      color: rgba(255,255,255,.82);
      display:flex; align-items:center; gap:8px;
      user-select:none;
    }

    .screen{ display:none; }
    .screen.active{ display:block; }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media(min-width: 860px){
      .grid.twoCols{ grid-template-columns: 1.05fr .95fr; }
    }

    .card{
      background: var(--card);
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      backdrop-filter: blur(12px);
    }
    .card.soft{
      background: var(--card2);
      border-color: var(--stroke2);
    }

    .cardHeader{
      display:flex; align-items:flex-end; justify-content:space-between;
      gap:12px;
      margin-bottom: 10px;
    }
    .title{
      margin:0;
      font-size: 16px;
      letter-spacing:.2px;
    }
    .hint{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
    }

    .divider{
      height:1px;
      background: rgba(255,255,255,.12);
      margin: 10px 0 12px;
    }

    .fields{
      display:grid;
      grid-template-columns: 1fr;
      gap: 12px;
    }
    @media(min-width: 560px){
      .fields.two{ grid-template-columns: 1fr 1fr; }
    }

    label{
      display:block;
      font-size: 13px;
      color: rgba(255,255,255,.82);
      margin: 0 0 6px 2px;
    }

    input{
      width:100%;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.20);
      color: var(--text);
      outline:none;
      font-size: 15px;
    }
    input::placeholder{ color: rgba(255,255,255,.38); }
    input:focus{
      border-color: rgba(168,85,247,.55);
      box-shadow: 0 0 0 4px rgba(168,85,247,.16);
    }

    .rowBlock{
      padding: 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
    }

    details{
      margin-top: 10px;
      border-radius: 14px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
    }
    summary{
      cursor:pointer;
      padding: 10px 12px;
      list-style:none;
      user-select:none;
      font-weight: 650;
      color: rgba(255,255,255,.88);
    }
    summary::-webkit-details-marker{ display:none; }
    details > .detailsBody{
      padding: 0 12px 12px;
      color: rgba(255,255,255,.72);
      font-size: 13px;
      line-height:1.4;
    }

    .btnRow{
      display:flex; gap:10px; flex-wrap:wrap;
      margin-top: 12px;
    }
    .btn{
      padding: 12px 14px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      color: var(--text);
      font-weight: 700;
      cursor:pointer;
      user-select:none;
      min-width: 150px;
      text-align:center;
    }
    .btn.primary{
      border-color: rgba(168,85,247,.55);
      background: linear-gradient(135deg, rgba(168,85,247,.9), rgba(79,70,229,.9));
      box-shadow: 0 14px 32px rgba(0,0,0,.35);
    }
    .btn.danger{
      border-color: rgba(239,68,68,.5);
      background: rgba(239,68,68,.10);
    }
    .btn:active{ transform: translateY(1px); }

    .msg{
      margin-top: 10px;
      font-size: 13px;
      color: var(--muted);
      min-height: 18px;
    }

    .resultCard{
      display:none;
      margin-top: 12px;
    }
    .resultGrid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin-top: 10px;
    }
    @media(min-width: 560px){
      .resultGrid{ grid-template-columns: 1fr 1fr 1fr; }
    }
    .scenarioBox{
      border-radius: 18px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
    }
    .scenarioName{
      font-weight: 900;
      letter-spacing:.2px;
      margin: 0 0 6px;
    }
    .kv{
      display:flex; justify-content:space-between; gap:12px;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,.10);
      font-size: 13px;
      color: rgba(255,255,255,.80);
    }
    .kv:last-child{ border-bottom:0; }
    .val{
      font-weight: 800;
      color: rgba(255,255,255,.92);
      text-align:right;
      white-space:nowrap;
    }
    .badge{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      font-size: 12px;
      color: rgba(255,255,255,.82);
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: rgba(255,255,255,.5);
    }
    .dot.good{ background: var(--good); }
    .dot.bad{ background: var(--bad); }
    .dot.warn{ background: var(--warn); }

    /* Watchlist */
    .wlItem{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      padding: 12px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      margin-top: 10px;
    }
    .wlLeft{
      min-width: 0;
    }
    .wlTitle{
      margin:0;
      font-size: 14px;
      font-weight: 900;
      letter-spacing:.2px;
    }
    .wlMeta{
      margin: 4px 0 0;
      font-size: 12.5px;
      color: rgba(255,255,255,.74);
      line-height: 1.35;
    }
    .wlBtns{
      display:flex; flex-direction:column; gap:8px;
      align-items:flex-end;
    }
    .miniBtn{
      padding: 9px 10px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      color: rgba(255,255,255,.9);
      font-weight: 800;
      cursor:pointer;
      user-select:none;
      font-size: 12.5px;
      white-space:nowrap;
    }
    .miniBtn.danger{
      border-color: rgba(239,68,68,.5);
      background: rgba(239,68,68,.10);
    }

    /* Bottom nav = 4 šuplíky */
    .bottomNav{
      position: fixed;
      left:0; right:0; bottom:0;
      padding: 10px 12px 14px;
      background: linear-gradient(180deg, transparent, rgba(0,0,0,.35) 35%, rgba(0,0,0,.55));
      backdrop-filter: blur(10px);
    }
    .navBar{
      max-width: 980px;
      margin: 0 auto;
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
    }
    .navBtn{
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.07);
      color: rgba(255,255,255,.88);
      padding: 12px 10px;
      font-weight: 900;
      letter-spacing:.2px;
      cursor:pointer;
      user-select:none;
      text-align:center;
    }
    .navBtn.active{
      border-color: rgba(168,85,247,.60);
      background: linear-gradient(135deg, rgba(168,85,247,.85), rgba(79,70,229,.85));
      box-shadow: 0 14px 30px rgba(0,0,0,.30);
    }

    .small{
      font-size: 12.5px;
      color: rgba(255,255,255,.76);
      line-height: 1.45;
    }
    .list{
      margin: 8px 0 0;
      padding-left: 18px;
      color: rgba(255,255,255,.78);
      font-size: 13px;
      line-height: 1.45;
    }
  </style>
</head>

<body>
  <div class="app">
    <div class="topBar">
      <div class="brand">
        <div class="logo">DCF</div>
        <div>
          <h1>Analýza akcií – MVP</h1>
          <p class="sub">Jednoduchý DCF oceňovač + watchlist (lokálně v prohlížeči)</p>
        </div>
      </div>
      <div class="pill" id="pillStatus">
        <span class="dot" id="pillDot"></span>
        <span id="pillText">Připraveno</span>
      </div>
    </div>

    <!-- 1) HOME -->
    <section id="screen-home" class="screen active">
      <div class="grid twoCols">
        <div class="card">
          <div class="cardHeader">
            <h2 class="title">Rychlý start</h2>
          </div>
          <p class="hint">
            Otevři <b>DCF model</b>, zadej vstupy a klikni <b>Spočítat</b>.
            Výstup uvidíš v kartě <b>Výsledek ocenění</b> (Base/Bull/Bear).
          </p>
          <div class="divider"></div>
          <p class="small">
            Tip: Čísla můžeš psát i s mezerami a desetinnou čárkou (např. <b>1 234,56</b>).
            Aplikace si to sama převede.
          </p>
          <ul class="list">
            <li><b>Base</b> = základní předpoklady</li>
            <li><b>Bull</b> = optimističtější scénář (upravené p.b.)</li>
            <li><b>Bear</b> = konzervativnější scénář (upravené p.b.)</li>
          </ul>
        </div>

        <div class="card soft">
          <div class="cardHeader">
            <h2 class="title">Co aplikace ukládá</h2>
          </div>
          <p class="hint">
            Watchlist se ukládá jen do <b>localStorage</b> (lokálně v tvém prohlížeči).
            Neodesílá se nikam na server.
          </p>
          <div class="divider"></div>
          <p class="small">
            Každou uloženou položku můžeš:
            <b>otevřít zpět</b> (načíst do formuláře) nebo <b>smazat zvlášť</b>.
          </p>
        </div>
      </div>
    </section>

    <!-- 2) DCF -->
    <section id="screen-dcf" class="screen">
      <div class="grid">
        <div class="card">
          <div class="cardHeader">
            <h2 class="title">DCF model (3 scénáře)</h2>
          </div>
          <p class="hint">
            Výpočet je zjednodušený „FCF na akcii“ model: projekce FCF, diskontování a terminální hodnota.
            Výstup je <b>vnitřní hodnota na akcii</b> a <b>% odchylka</b> vůči aktuální ceně.
          </p>

          <div class="divider"></div>

          <div class="fields two">
            <div class="rowBlock">
              <label for="ticker">Ticker / název</label>
              <input id="ticker" type="text" placeholder="např. PLTR / Apple / …" inputmode="text" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Slouží jen pro přehled v watchlistu. Na výpočet nemá vliv.
                </div>
              </details>
            </div>

            <div class="rowBlock">
              <label for="price">Aktuální cena akcie</label>
              <input id="price" type="text" placeholder="např. 24,50" inputmode="decimal" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Tržní cena, vůči které se počítá podhodnocení / nadhodnocení v procentech.
                </div>
              </details>
            </div>
          </div>

          <div class="fields two" style="margin-top:12px;">
            <div class="rowBlock">
              <label for="fcf">FCF na akcii (FCF / share)</label>
              <input id="fcf" type="text" placeholder="např. 6,2" inputmode="decimal" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Volný cash flow přepočtený na 1 akcii (obvykle posledních 12 měsíců – TTM).
                  Pokud má firma FCF záporné, výstup nebude dávat ekonomický smysl.
                </div>
              </details>
            </div>

            <div class="rowBlock">
              <label for="years">Počet let projekce</label>
              <input id="years" type="text" placeholder="např. 10" inputmode="numeric" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Počet let, po které roste FCF tempem „Růst FCF (Base)“. Poté se používá terminální růst.
                </div>
              </details>
            </div>
          </div>

          <div class="fields two" style="margin-top:12px;">
            <div class="rowBlock">
              <label for="gBase">Růst FCF (Base) %</label>
              <input id="gBase" type="text" placeholder="např. 8" inputmode="decimal" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Očekávané průměrné roční tempo růstu FCF v projekčním období.
                </div>
              </details>
            </div>

            <div class="rowBlock">
              <label for="rBase">Diskont (Base) %</label>
              <input id="rBase" type="text" placeholder="např. 9" inputmode="decimal" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Požadovaný výnos (diskontní sazba). Typicky se bere jako zjednodušený „cost of equity“.
                </div>
              </details>
            </div>
          </div>

          <div class="fields" style="margin-top:12px;">
            <div class="rowBlock">
              <label for="tBase">Terminální růst (Base) %</label>
              <input id="tBase" type="text" placeholder="např. 2,5" inputmode="decimal" />
              <details>
                <summary>Co to je?</summary>
                <div class="detailsBody">
                  Dlouhodobý udržitelný růst po skončení projekce. Musí být <b>nižší než diskont</b>,
                  jinak terminální hodnota matematicky nedává smysl (r − g musí být &gt; 0).
                </div>
              </details>
            </div>
          </div>

          <div class="divider"></div>

          <div class="card soft" style="padding:14px;">
            <div class="cardHeader">
              <h3 class="title" style="font-size:15px;">Scénáře (úpravy vůči Base)</h3>
            </div>
            <p class="hint" style="margin-top:-2px;">
              Úpravy jsou v <b>procentních bodech (p.b.)</b>. Např. +2 p.b. růstu znamená: Base 8 % → Bull 10 %.
            </p>

            <div class="fields two" style="margin-top:12px;">
              <div class="rowBlock">
                <label for="bearG">Bear úprava růstu (p.b.)</label>
                <input id="bearG" type="text" placeholder="např. -2" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se sníží/zvýší růst FCF proti Base pro Bear scénář.
                </div></details>
              </div>
              <div class="rowBlock">
                <label for="bearR">Bear úprava diskontu (p.b.)</label>
                <input id="bearR" type="text" placeholder="např. +1" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se změní diskont (požadovaný výnos) proti Base pro Bear scénář.
                </div></details>
              </div>
            </div>

            <div class="fields two" style="margin-top:12px;">
              <div class="rowBlock">
                <label for="bearT">Bear úprava terminálu (p.b.)</label>
                <input id="bearT" type="text" placeholder="např. -0,5" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se změní terminální růst proti Base pro Bear scénář.
                </div></details>
              </div>
              <div class="rowBlock">
                <label for="bullG">Bull úprava růstu (p.b.)</label>
                <input id="bullG" type="text" placeholder="např. +2" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se změní růst FCF proti Base pro Bull scénář.
                </div></details>
              </div>
            </div>

            <div class="fields two" style="margin-top:12px;">
              <div class="rowBlock">
                <label for="bullR">Bull úprava diskontu (p.b.)</label>
                <input id="bullR" type="text" placeholder="např. -1" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se změní diskont proti Base pro Bull scénář (často nižší diskont = optimističtější).
                </div></details>
              </div>
              <div class="rowBlock">
                <label for="bullT">Bull úprava terminálu (p.b.)</label>
                <input id="bullT" type="text" placeholder="např. +0,5" inputmode="decimal" />
                <details><summary>Co to je?</summary><div class="detailsBody">
                  O kolik p.b. se změní terminální růst proti Base pro Bull scénář.
                </div></details>
              </div>
            </div>

            <details style="margin-top:12px;">
              <summary>Jak scénáře číst?</summary>
              <div class="detailsBody">
                <b>Bear</b>: konzervativnější předpoklady (nižší růst / vyšší diskont / nižší terminál).<br/>
                <b>Bull</b>: optimističtější předpoklady (vyšší růst / nižší diskont / vyšší terminál).<br/>
                Výstup ukazuje vnitřní hodnotu a rozdíl vůči trhu v %.
              </div>
            </details>
          </div>

          <div class="btnRow">
            <button class="btn primary" id="btnCalc">Spočítat</button>
            <button class="btn" id="btnSave">Uložit do Watchlistu</button>
            <button class="btn danger" id="btnReset">Vyčistit</button>
          </div>
          <div class="msg" id="dcfMsg"></div>

          <!-- Výsledek (TADY to konečně je – a jen v DCF modelu) -->
          <div class="card resultCard" id="resultCard">
            <div class="cardHeader">
              <h3 class="title">Výsledek ocenění</h3>
              <span class="badge" id="summaryBadge">
                <span class="dot" id="summaryDot"></span>
                <s<span id="summaryText">—</span>
</span>
</div>

<div class="resultGrid">
  <div class="resultItem base">
    <div class="label">Base</div>
    <div class="value" id="resBase">—</div>
    <div class="diff" id="diffBase">—</div>
  </div>

  <div class="resultItem bull">
    <div class="label">Bull</div>
    <div class="value" id="resBull">—</div>
    <div class="diff" id="diffBull">—</div>
  </div>

  <div class="resultItem bear">
    <div class="label">Bear</div>
    <div class="value" id="resBear">—</div>
    <div class="diff" id="diffBear">—</div>
  </div>
</div>
</div> <!-- /resultCard -->

</div> <!-- /card -->
</section>
<!-- ===== END DCF ===== -->


<!-- ===== SCRIPT ===== -->
<script>
function num(id) {
  const el = document.getElementById(id);
  if (!el) return 0;
  return parseFloat(el.value.replace(',', '.')) || 0;
}

function price(v) {
  return v.toLocaleString('cs-CZ', { maximumFractionDigits: 0 }) + ' Kč';
}

function pct(v) {
  return (v > 0 ? '+' : '') + v.toFixed(1) + ' %';
}

function dcf(fcf, years, g, r, t) {
  let sum = 0;
  for (let i = 1; i <= years; i++) {
    const cash = fcf * Math.pow(1 + g / 100, i);
    sum += cash / Math.pow(1 + r / 100, i);
  }

  const terminal =
    (fcf * Math.pow(1 + g / 100, years) * (1 + t / 100)) /
    ((r - t) / 100);

  sum += terminal / Math.pow(1 + r / 100, years);
  return sum;
}

document.getElementById('btnCalc').addEventListener('click', () => {
  const fcf = num('fcf');
  const years = num('years');

  const gBase = num('gBase');
  const rBase = num('rBase');
  const tBase = num('tBase');

  if (!fcf || !years || !gBase || !rBase || !tBase) {
    document.getElementById('dcfMsg').innerText =
      'Vyplň všechna povinná pole.';
    return;
  }

  const base = dcf(fcf, years, gBase, rBase, tBase);
  const bull = dcf(
    fcf,
    years,
    gBase + num('bullG'),
    rBase + num('bullR'),
    tBase + num('bullT')
  );
  const bear = dcf(
    fcf,
    years,
    gBase + num('bearG'),
    rBase + num('bearR'),
    tBase + num('bearT')
  );

  document.getElementById('resBase').innerText = price(base);
  document.getElementById('resBull').innerText = price(bull);
  document.getElementById('resBear').innerText = price(bear);

  document.getElementById('diffBull').innerText =
    pct((bull / base - 1) * 100);
  document.getElementById('diffBear').innerText =
    pct((bear / base - 1) * 100);

  document.getElementById('summaryText').innerText = 'Vypočteno';
  document.getElementById('summaryDot').classList.add('ok');
  document.getElementById('resultCard').style.display = 'block';
});
</script>

</body>
</html>



            

        




          

        

          





  

  

  


  


    


      

  

    

          
    

    

    
    


    





    

    

  
        

    
    

  

  





