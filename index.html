<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <title>Equity Analyzer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root {
      --bg: #050114;
      --bg-card: rgba(15, 5, 40, 0.95);
      --bg-card-soft: rgba(25, 10, 70, 0.7);
      --accent: #a855f7;
      --accent-soft: rgba(168, 85, 247, 0.15);
      --accent-strong: #c4b5fd;
      --text: #f9f5ff;
      --muted: #c4b5fd;
      --danger: #f97373;
      --success: #4ade80;
      --border-soft: rgba(148, 163, 184, 0.3);
      --radius-xl: 18px;
      --radius-xxl: 26px;
      --shadow-soft: 0 22px 45px rgba(15, 23, 42, 0.75);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      background: radial-gradient(circle at top, #312e81, #020617 60%);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    .app {
      width: 100%;
      max-width: 1080px;
      padding: 24px 16px 40px;
    }

    @media (min-width: 768px) {
      .app {
        padding: 32px 20px 64px;
      }
    }

    .hero {
      background: radial-gradient(circle at top left, #4c1d95, #020617 55%);
      border-radius: var(--radius-xxl);
      padding: 18px 18px 20px;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(168, 85, 247, 0.4);
      margin-bottom: 18px;
      position: relative;
      overflow: hidden;
    }

    .hero::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(
        circle at top right,
        rgba(168, 85, 247, 0.25),
        transparent 55%
      );
      opacity: 0.9;
      pointer-events: none;
    }

    .hero-inner {
      position: relative;
      z-index: 1;
    }

    .hero-title {
      margin: 0 0 4px;
      font-size: 1.7rem;
      letter-spacing: 0.05em;
      text-transform: uppercase;
    }

    .hero-sub {
      margin: 0;
      font-size: 0.9rem;
      max-width: 560px;
      color: var(--muted);
    }

    .drawer-list {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin: 8px 0 10px;
    }

    @media (min-width: 768px) {
      .drawer-list {
        grid-template-columns: 1fr 1fr;
      }
    }

    .drawer {
      background: var(--bg-card);
      border-radius: var(--radius-xl);
      padding: 12px 14px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      cursor: pointer;
      border: 1px solid rgba(148, 163, 184, 0.35);
      transition:
        transform 0.12s ease-out,
        box-shadow 0.12s ease-out,
        border-color 0.12s ease-out,
        background 0.12s ease-out;
    }

    .drawer.main {
      grid-column: 1 / -1;
      padding: 14px 16px;
      border-radius: 28px;
      border-color: rgba(168, 85, 247, 0.7);
      background: linear-gradient(
        120deg,
        rgba(88, 28, 135, 0.95),
        rgba(30, 64, 175, 0.9)
      );
      box-shadow: 0 26px 55px rgba(15, 23, 42, 0.95);
    }

    .drawer:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 36px rgba(15, 23, 42, 0.7);
      border-color: rgba(168, 85, 247, 0.8);
      background: radial-gradient(
        circle at top left,
        rgba(88, 28, 135, 0.85),
        rgba(15, 23, 42, 0.98)
      );
    }

    .drawer.main .drawer-title {
      font-size: 1.15rem;
    }

    .drawer-text {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .drawer-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--accent-strong);
      opacity: 0.9;
    }

    .drawer-title {
      margin: 0;
      font-size: 1rem;
    }

    .drawer-desc {
      margin: 0;
      font-size: 0.8rem;
      color: var(--muted);
    }

    .drawer-chevron {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      border: 1px solid rgba(248, 250, 252, 0.25);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      color: var(--accent-strong);
    }

    .drawer-chevron::before {
      content: "↗";
    }

    .screen {
      display: none;
    }

    .screen.active {
      display: block;
    }

    .page-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
      margin-top: 10px;
    }

    .page-title {
      margin: 0;
      font-size: 1.25rem;
    }

    .page-sub {
      margin: 0 0 10px;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .page-card {
      background: var(--bg-card-soft);
      border-radius: var(--radius-xl);
      padding: 12px 14px;
      border: 1px solid var(--border-soft);
      margin-bottom: 10px;
    }

    .btn-back {
      border: none;
      background: rgba(15, 23, 42, 0.7);
      color: var(--muted);
      border-radius: 999px;
      padding: 5px 10px;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      font-size: 0.8rem;
      border: 1px solid rgba(148, 163, 184, 0.45);
    }

    .btn-primary {
      border: none;
      background: linear-gradient(
        135deg,
        #a855f7,
        #6366f1
      );
      color: white;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 0.85rem;
      cursor: pointer;
      box-shadow: 0 10px 25px rgba(79, 70, 229, 0.6);
      white-space: nowrap;
    }

    .btn-secondary {
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.6);
      color: var(--muted);
      border-radius: 999px;
      padding: 4px 10px;
      font-size: 0.75rem;
      cursor: pointer;
      white-space: nowrap;
    }

    .btn-sm {
      padding: 3px 8px;
      font-size: 0.75rem;
    }

    .form-grid-2,
    .form-grid-3 {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
    }

    @media (min-width: 700px) {
      .form-grid-2 {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .form-grid-3 {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    label {
      display: block;
      font-size: 0.78rem;
      margin-bottom: 3px;
      color: var(--muted);
    }

    input,
    select,
    textarea {
      width: 100%;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text);
      padding: 6px 8px;
      font-size: 0.85rem;
      outline: none;
    }

    textarea {
      resize: vertical;
      min-height: 120px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.8rem;
    }

    thead {
      background: rgba(15, 23, 42, 0.9);
    }

    th,
    td {
      padding: 6px 8px;
      border-bottom: 1px solid rgba(51, 65, 85, 0.9);
    }

    th {
      text-align: left;
      font-weight: 600;
      font-size: 0.78rem;
      color: var(--muted);
    }

    tr:last-child td {
      border-bottom: none;
    }

    .text-success {
      color: var(--success);
    }

    .text-danger {
      color: var(--danger);
    }

    .notes-area {
      width: 100%;
      min-height: 260px;
      padding: 12px;
      border-radius: var(--radius-xl);
      border: 1px solid var(--border-soft);
      background-color: rgba(15, 23, 42, 0.9);
      color: var(--text);
      line-height: 1.6rem;
      font-size: 0.9rem;
      background-image: linear-gradient(
        rgba(148, 163, 184, 0.25) 1px,
        transparent 1px
      );
      background-size: 100% 1.6rem;
      resize: vertical;
    }

    .helper-text {
      margin: 4px 0 0;
      font-size: 0.78rem;
      color: var(--muted);
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
    }

    .pill {
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      padding: 2px 8px;
      font-size: 0.75rem;
      color: var(--muted);
    }

    .ci-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
      font-size: 0.8rem;
      margin-top: 8px;
    }

    .ci-grid span {
      opacity: 0.8;
      font-size: 0.75rem;
    }

    .ci-grid strong {
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <main class="app">
    <!-- HOME -->
    <section id="screen-home" class="screen active">
      <header class="hero">
        <div class="hero-inner">
          <h1 class="hero-title">Equity Analyzer</h1>
          <p class="hero-sub">
            DCF, watchlist, portfolia, earnings a složené úročení v jedné fialové
            appce. Všechna data zůstávají jen ve tvém prohlížeči.
          </p>
        </div>
      </header>

      <div class="drawer-list">
        <!-- 1) ANALÝZA – rychlý výpočet hodnoty -->
        <article class="drawer main" data-open="screen-analysis">
          <div class="drawer-text">
            <div class="drawer-label">Analýza</div>
            <h2 class="drawer-title">Rychlý výpočet hodnoty</h2>
            <p class="drawer-desc">DCF nástřel férové ceny akcie.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>
<!-- ==================== ANALÝZA – RYCHLÝ VÝPOČET ==================== -->
<section id="screen-analysis" class="screen">
  <div class="page-header">
    <!-- ŠIPKA ZPĚT NA HLAVNÍ OBRAZOVKU -->
    <button class="btn-back" data-back="home">
      ← Zpět
    </button>
    <h2 class="page-title">Rychlý výpočet hodnoty</h2>
  </div>

  <p class="page-sub">
    Zadej ticker akcie, stáhni si data (později z&nbsp;API) a porovnej tři scénáře férové ceny.
  </p>

  <!-- VSTUP: TICKER / NÁZEV -->
  <div class="page-card">
    <label for="q-ticker" class="field-label">Ticker nebo název akcie</label>
    <div class="field-row">
      <input id="q-ticker" type="text" placeholder="např. AAPL, PLTR, SOFI…" />
      <button id="q-load" class="btn-primary">
        Načíst data
      </button>
    </div>
    <p id="q-status" class="helper-text">
      Data zatím používají demo hodnoty. Později se tu napojíme na Yahoo Finance / jiný zdroj.
    </p>
  </div>

  <!-- TŘI SCÉNÁŘE: OPTIMISTICKÝ / REÁLNÝ / PESIMISTICKÝ -->
  <div class="page-card">
    <h3 style="margin-bottom: 12px;">Scénáře férové ceny</h3>

    <div class="scenario-grid">
      <!-- Optimistický -->
      <div class="scenario-card">
        <div class="scenario-label">Optimistický</div>
        <div class="scenario-value" id="val-optimistic">–</div>
        <div class="scenario-row">
          <label>Růst tržeb</label>
          <input id="g-optimistic" type="number" value="18" /> %
        </div>
        <div class="scenario-row">
          <label>Diskont</label>
          <input id="d-optimistic" type="number" value="8" /> %
        </div>
      </div>

      <!-- Reálný -->
      <div class="scenario-card">
        <div class="scenario-label">Reálný</div>
        <div class="scenario-value" id="val-base">–</div>
        <div class="scenario-row">
          <label>Růst tržeb</label>
          <input id="g-base" type="number" value="12" /> %
        </div>
        <div class="scenario-row">
          <label>Diskont</label>
          <input id="d-base" type="number" value="9" /> %
        </div>
      </div>

      <!-- Pesimistický / Podhodnocený -->
      <div class="scenario-card">
        <div class="scenario-label">Pesimistický</div>
        <div class="scenario-value" id="val-bear">–</div>
        <div class="scenario-row">
          <label>Růst tržeb</label>
          <input id="g-bear" type="number" value="6" /> %
        </div>
        <div class="scenario-row">
          <label>Diskont</label>
          <input id="d-bear" type="number" value="10" /> %
        </div>
      </div>
    </div>

    <div style="margin-top: 16px; text-align: right;">
      <button id="q-calc" class="btn-primary">
        Spočítat férové ceny
      </button>
    </div>
  </div>
</section>
        <!-- 2) WATCHLIST -->
        <article class="drawer" data-open="screen-watchlist">
          <div class="drawer-text">
            <div class="drawer-label">Watchlist</div>
            <h2 class="drawer-title">Sledované akcie</h2>
            <p class="drawer-desc">Seznam firem, které máš v hledáčku.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <!-- 3) PŘIDAT FIRMU -->
        <article class="drawer" data-open="screen-add-firm">
          <div class="drawer-text">
            <div class="drawer-label">Firmy</div>
            <h2 class="drawer-title">Přidat novou firmu</h2>
            <p class="drawer-desc">Ukládej si podrobnější poznámky k firmám.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <!-- 4) PORTFOLIA -->
        <article class="drawer" data-open="screen-portfolio-home">
          <div class="drawer-text">
            <div class="drawer-label">Portfolia</div>
            <h2 class="drawer-title">Moje portfolia</h2>
            <p class="drawer-desc">Akcie, ETF, krypto a komodity.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <!-- 5) SLOŽENÉ ÚROČENÍ -->
        <article class="drawer" data-open="screen-compound">
          <div class="drawer-text">
            <div class="drawer-label">Úročení</div>
            <h2 class="drawer-title">Složené úročení</h2>
            <p class="drawer-desc">Jak poroste tvoje investice v čase.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <!-- 6) POZNÁMKY -->
        <article class="drawer" data-open="screen-notes">
          <div class="drawer-text">
            <div class="drawer-label">Poznámky</div>
            <h2 class="drawer-title">Moje poznámky</h2>
            <p class="drawer-desc">Textový sešit k analýzám.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>
      </div>
    </section>

    <!-- ANALYSIS – rychlý výpočet hodnoty -->
    <section id="screen-analysis" class="screen">
      <div class="page-header">
        <button class="btn-back" data-back="screen-home">← Zpět</button>
        <h2 class="page-title">Rychlý výpočet hodnoty</h2>
      </div>
      <p class="page-sub">
        Zadej základní údaje a uvidíš, jestli je akcie spíš drahá nebo levná.
      </p>

      <div class="page-card">
        <div class="form-grid-2">
          <div>
            <label>Ticker</label>
            <input id="an-ticker" type="text" placeholder="AAPL" />
          </div>
          <div>
            <label>Název firmy</label>
            <input id="an-name" type="text" placeholder="Apple" />
          </div>
          <div>
            <label>Aktuální cena</label>
            <input id="an-price" type="number" step="0.01" />
          </div>
          <div>
            <label>Férová cena (tvůj odhad)</label>
            <input id="an-fair" type="number" step="0.01" />
          </div>
          <div>
            <label>Margin of safety (%)</label>
            <input id="an-mos" type="number" placeholder="třeba 25" />
          </div>
        </div>
        <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn-primary" id="an-calc">Vyhodnotit</button>
          <button class="btn-secondary" id="an-clear">Vymazat</button>
        </div>
      </div>

      <div class="page-card">
        <h3 style="margin:0 0 6px;">Výsledek</h3>
        <p id="an-result" class="helper-text">
          Zadej ceny a klikni na „Vyhodnotit“.
        </p>
      </div>
    </section>

    <!-- WATCHLIST -->
    <section id="screen-watchlist" class="screen">
      <div class="page-header">
        <button class="btn-back" data-back="screen-home">← Zpět</button>
        <h2 class="page-title">Watchlist – sledované akcie</h2>
      </div>
      <p class="page-sub">
        Jednoduchý seznam firem, které chceš mít na očích.
      </p>

      <div class="page-card">
        <div class="form-grid-3">
          <div>
            <label>Název firmy</label>
            <input id="wl-name" type="text" />
          </div>
          <div>
            <label>Ticker</label>
            <input id="wl-ticker" type="text" />
          </div>
          <div>
            <label>Poznámka (stručně)</label>
            <input id="wl-note" type="text" />
          </div>
        </div>
        <div style="margin-top:10px;">
          <button class="btn-primary" id="wl-add">Přidat do watchlistu</button>
        </div>
      </div>

      <div class="page-card">
        <h3 style="margin:0 0 6px;">Seznam sledovaných firem</h3>
        <table>
          <thead>
            <tr>
              <th>Název</th>
              <th>Ticker</th>
              <th>Poznámka</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="wl-table"></tbody>
        </table>
      </div>
    </section>

    <!-- ADD FIRM – podrobnější zápis firmy -->
    <section id="screen-add-firm" class="screen">
      <div class="page-header">
        <button class="btn-back" data-back="screen-home">← Zpět</button>
        <h2 class="page-title">Přidat novou firmu</h2>
      </div>
      <p class="page-sub">
        Ulož si k firmě víc detailů – férovou cenu, sektor, krátký popis.
      </p>

      <div class="page-card">
        <div class="form-grid-3">
          <div>
            <label>Název firmy</label>
            <input id="af-name" type="text" />
          </div>
          <div>
            <label>Ticker</label>
            <input id="af-ticker" type="text" />
          </div>
          <div>
            <label>Sektor</label>
            <input id="af-sector" type="text" placeholder="Tech, Energy…" />
          </div>
          <div>
            <label>Aktuální cena</label>
            <input id="af-price" type="number" step="0.01" />
          </div>
          <div>
            <label>Férová cena</label>
            <input id="af-fair" type="number" step="0.01" />
          </div>
          <div>
            <label>Měna</label>
            <select id="af-currency">
              <option value="USD">USD</option>
              <option value="EUR">EUR</option>
              <option value="CZK">CZK</option>
            </select>
          </div>
        </div>

        <div style="margin-top:8px;">
          <label>Stručný popis / teze</label>
          <textarea id="af-note" placeholder="Proč je firma zajímavá, co sledovat…"></textarea>
        </div>

        <div style="margin-top:10px;">
          <button class="btn-primary" id="af-add">Uložit firmu</button>
        </div>
      </div>

      <div class="page-card">
        <h3 style="margin:0 0 6px;">Uložené firmy</h3>
        <table>
          <thead>
            <tr>
              <th>Název</th>
              <th>Ticker</th>
              <th>Sektor</th>
              <th>Aktuální</th>
              <th>Férová</th>
              <th>Měna</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="af-table"></tbody>
        </table>
      </div>
    </section>

    <!-- PORTFOLIA – ROZCESTNÍK -->
    <section id="screen-portfolio-home" class="screen">
      <div class="page-header">
        <button class="btn-back" data-back="screen-home">← Zpět</button>
        <h2 class="page-title">Moje portfolia</h2>
      </div>
      <p class="page-sub">
        Vyber typ portfolia, který chceš zrovna upravit.
      </p>

      <div class="drawer-list">
        <article class="drawer" data-open="screen-portfolio-stocks">
          <div class="drawer-text">
            <div class="drawer-label">Akcie</div>
            <h2 class="drawer-title">Akciové portfolio</h2>
            <p class="drawer-desc">Jmenovité akcie, průměrné ceny, P/L.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <article class="drawer" data-open="screen-portfolio-etf">
          <div class="drawer-text">
            <div class="drawer-label">ETF</div>
            <h2 class="drawer-title">ETF portfolio</h2>
            <p class="drawer-desc">ETF fondy, váhy a vývoj.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <article class="drawer" data-open="screen-portfolio-crypto">
          <div class="drawer-text">
            <div class="drawer-label">Krypto</div>
            <h2 class="drawer-title">Krypto portfolio</h2>
            <p class="drawer-desc">Bitcoin, altcoiny, nákupky a P/L.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>

        <article class="drawer" data-open="screen-portfolio-commodities">
          <div class="drawer-text">
            <div class="drawer-label">Komodity</div>
            <h2 class="drawer-title">Komoditní portfolio</h2>
            <p class="drawer-desc">Zlato, stříbro, ropa atd.</p>
          </div>
          <div class="drawer-chevron"></div>
        </article>
      </div>
    </section>

    <!-- AKCIOVÉ PORTFOLIO -->
    <section id="screen-portfolio-stocks" class="screen">
      <div class="page-header">
        <button class="btn-back" data-back="screen-portfolio-home">← Zpět</button>
        <h2 class="page-title">Akciové portfolio</h2>
      </div>
      <p class="page-sub">
        Jednoduchá evidence akciových pozic – kusy, nákupka, aktuální cena, P/L.
      </p>

      <div class="page-card">
        <div class="form-grid-3">
          <div>
            <label>Název</label>
            <input id="ps-name" type="text" />
          </div>
          <div>
            <label>Ticker</label>
            <input id="ps-ticker" type="text" />
          </div>
          <div>
            <label>Kusy</label>
            <input id="ps-shares" type="number" step="0.0001" />
          </div>
          <div>
            <label>Průměrná nákupní cena</label>
            <input id="ps-buy" type="number" step="0.01" />
          </div>
          <div>
            <label>Aktuální cena</label>
            <input id="ps-current" type="number" step="0.01" />
          </div>
          <div>
            <label>Měna</label>
            <select id="ps-currency">
              <option value="USD">USD</option>
              <option value="EUR">EUR</option>
              <option value="CZK">CZK</option>
            </select>
          </div>
        </div>
        <div style="margin-top:10px;">
          <button class="btn-primary" id="ps-add">Přidat pozici</button>
        </div>
      </div>

      <div class="page-card">
        <h3 style="margin:0 0 6px;">Pozice</h3>
        <table>
          <thead>
            <tr>
              <th>Název</th>
              <th>Ticke
